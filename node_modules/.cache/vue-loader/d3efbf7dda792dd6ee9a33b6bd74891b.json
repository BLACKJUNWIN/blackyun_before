{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\login.vue?vue&type=style&index=0&id=7589b93f&scoped=true&lang=css","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\login.vue","mtime":1660033818337},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\css-loader\\dist\\cjs.js","mtime":1659339946691},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1659339951534},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\postcss-loader\\src\\index.js","mtime":1659339948085},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5maWxlOmhvdmVyewogIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMTI4LDEyOCwxMjgsMC44KTsKfQo="},{"version":3,"sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\login.vue"],"names":[],"mappings":";AA4EA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C","file":"D:/BlackJun/2021/program/webstrom/yun/src/views/login.vue","sourceRoot":"","sourcesContent":["<template>\n  <div style=\"width: 100%;\">\n    <div style=\"width:530px;height: 360px;border-radius: 1.5em;position: absolute;margin:auto;left: 0;right: 0;top:0;bottom: 0;cursor: pointer;transition: all .8s\" class=\"file\">\n      <div style=\"text-align: center\">\n        <div style=\"margin-top: 20px\"><img src=\"@/assets/images/logo.png\" style=\"width:60%\"> </div>\n      </div>\n      <div style=\"width:75%;margin:30px auto 0 auto\">\n        <el-form  label-width=\"80px\">\n          <el-form-item label=\"用户名\" style=\"font-weight: bold\">\n            <el-input name='blackYunName' v-model=\"name\" placeholder=\"请输入用户名\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密黑码\" style=\"font-weight: bold;margin-top: 30px\">\n            <el-input type=\"password\" name=\"blackYunPassword\" v-model=\"password\" show-password placeholder=\"请输入密码\"></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div style=\"width:75%;margin:0 auto;display: flex;justify-content: right\">\n        <el-button type=\"success\" @click=\"isLogin()\" >登录</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {reactive, toRefs} from \"vue\";\nimport {login} from \"@/net/user\";\nimport {useStore} from \"vuex\";\nimport {useRouter} from \"vue-router\"\nexport default {\n  name: \"login\",\n  setup(){\n    const store=useStore();\n    const router=useRouter();\n    let user=reactive(\n        {\n        name: '',\n        password: ''\n      }\n    )\n    let isLogin=async ()=>{\n      let res='';\n      if(user.name===''||user.name===null){\n        res={\n          code:500,\n          message:\"未填写云盘名\"\n        }\n      }else if(user.password===''||user.password===null){\n        res={\n          code:500,\n          message:\"未填写密黑码\"\n        }\n      }else{\n        res=await login({\n          name:user.name,\n          password:user.password\n        })\n        if(res.code===\"200\"){\n          sessionStorage.setItem(\"token\",res.data.token);\n          await router.push({path: \"/more\", query: {path: \"/\"}})\n        }else{\n          user.name='';\n          user.password='';\n        }\n      }\n      store.commit(\"tip\",res);\n    }\n\n    return {\n      ...toRefs(user),\n      isLogin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.file:hover{\n  box-shadow: 0 0 10px rgba(128,128,128,0.8);\n}\n</style>\n"]}]}