{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue?vue&type=style&index=0&id=3fd9d0e4&scoped=true&lang=css","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue","mtime":1660316058279},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\css-loader\\dist\\cjs.js","mtime":1659339946691},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1659339951534},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\postcss-loader\\src\\index.js","mtime":1659339948085},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouc3BlZWRUaXBTdHlsZU1heHsNCiAgd2lkdGg6IDIwMHB4Ow0KICBoZWlnaHQ6IDE1MHB4Ow0KfQ0KLnNwZWVkVGlwU3R5bGV7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgdG9wOiAyMHB4Ow0KICByaWdodDogMzBweDsNCiAgei1pbmRleDogMTAwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgYm94LXNoYWRvdzogMCAwIDEwcHggZ3JleTsNCiAgcGFkZGluZzogMTBweCA1MHB4IDsNCiAgdHJhbnNpdGlvbjphbGwgMXM7DQogIGJvcmRlci1yYWRpdXM6IDFlbTsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCi5zcGVlZFRpcFN0eWxlTWluew0KICB3aWR0aDogMjAwcHg7DQogIGhlaWdodDogNTBweDsNCn0NCi5oaWRkZW57DQogIG9wYWNpdHk6IDA7DQogIGhlaWdodDogMXB4Ow0KICBtYXJnaW4tYm90dG9tOiAwOw0KfQ0KLnNob3d7DQogIG9wYWNpdHk6IDE7DQogIGhlaWdodDogMzBweDsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCi5oaWRkZW5Cb3R0b217DQogIG9wYWNpdHk6IDA7DQogIGhlaWdodDogMXB4Ow0KICBtYXJnaW4tdG9wOjNweA0KfQ0KLnNob3dCb3R0b217DQogIG9wYWNpdHk6IDE7DQogIGhlaWdodDogMzBweDsNCiAgbWFyZ2luLXRvcDoxMHB4DQp9DQo="},{"version":3,"sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue"],"names":[],"mappings":"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","file":"D:/BlackJun/2021/program/webstrom/yun/src/components/speedTip.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div :class=\"{speedTipStyleMin:min,speedTipStyleMax:!min}\" class=\"speedTipStyle\" v-if=\"$store.state.uploadMd5!==''||fileInterrupt\">\r\n    <el-icon :size=\"20\" style=\"width: 1em; height: 1em; position: absolute;right: 15px;cursor: pointer\" @click=\"changeBorder\" :title=\"min?'最大化':'最小化'\">\r\n      <SemiSelect v-if=\"!min\"/>\r\n      <Menu v-if=\"min\"/>\r\n    </el-icon>\r\n\r\n    <div style=\"text-align: center;transition:all 1s;\" :class=\"{hidden:min,show:!min}\">\r\n      <strong v-if=\"!fileInterrupt\">正在上传文件:</strong>\r\n      <strong v-else>上传中断:</strong>\r\n      <div style=\"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width:80px;height:23px;line-height:23px;display: inline-block;background-color: #66c03a;color: white;padding:3px 6px;border-radius: .5em;position: relative;top:8px;left: 5px;cursor: pointer;\" :title=\"$store.state.uploadFileName\">\r\n        <strong>{{$store.state.uploadFileName}}</strong>\r\n      </div>\r\n    </div>\r\n    <el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=\"parseFloat(percentage.toFixed(2))\" :status=\"tipColor\"/>\r\n    <div style=\"text-align: center;margin-top:5px\"><strong style=\"font-size:23px;color: darkorange\">{{(speed).toFixed(2)}}</strong> Mbps/s</div>\r\n    <div style=\"display: flex;justify-content: center;transition:all 1s\"  :class=\"{hiddenBottom:min,showBottom:!min}\">\r\n        <el-button v-if=\"fileInterrupt\" type=\"warning\" title=\"点击「上传文件」,来重新上传\" @click=\"$router.push({path:'/more',query:{path:$store.state.uploadPath}})\" :disabled=\"$route.path==='/more'\"><strong>重新上传</strong></el-button>\r\n      <el-button type=\"info\" title=\"取消上传\" @click=\"$store.state.uploadCancel=true;fileInterrupt=false\"><strong>取消上传</strong></el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive, toRefs, watch} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {SemiSelect,Menu} from '@element-plus/icons'\r\nexport default {\r\n  name: \"speedTip\",\r\n  components:{\r\n    SemiSelect,\r\n    Menu\r\n  },\r\n  setup(){\r\n    const store=useStore();\r\n    let uploadFile=reactive({\r\n      indexMax:0,\r\n      tipColor:\"\",\r\n      percentage:0,\r\n      fileInterrupt:false,\r\n      speed:0,\r\n      oldDate:0,\r\n      min:false\r\n    })\r\n    watch(()=>store.state.uploadIndex,(newData,oldData)=>{\r\n      if(newData!==0){\r\n        uploadFile.speed=(8/(Date.now()-uploadFile.oldDate)*1000);\r\n        uploadFile.fileInterrupt=false;//开始上传后标识改过来\r\n      }\r\n      uploadFile.indexMax=store.state.uploadIndexMax;\r\n      uploadFile.oldDate=Date.now();\r\n      uploadFile.percentage=newData/uploadFile.indexMax*100;\r\n      if(uploadFile.percentage<20){\r\n        uploadFile.tipColor=\"exception\";\r\n      }else if(uploadFile.percentage<50){\r\n        uploadFile.tipColor=\"warning\";\r\n      }else if(uploadFile.percentage<80){\r\n        uploadFile.tipColor=\"\"\r\n      }else{\r\n        uploadFile.tipColor=\"success\"\r\n      }\r\n    })\r\n\r\n    watch(()=>store.state.uploadInterrupt,(newData,oldData)=>{\r\n      if(newData){\r\n        uploadFile.fileInterrupt=newData;\r\n        store.state.uploadInterrupt=false;\r\n      }\r\n\r\n    })\r\n\r\n    let changeBorder=()=>{\r\n      uploadFile.min=!uploadFile.min;\r\n    }\r\n\r\n\r\n    return {\r\n      ...toRefs(uploadFile),\r\n      uploadFile,\r\n      changeBorder\r\n    }\r\n  },\r\n  created() {\r\n    if(sessionStorage.getItem(\"uploadMd5\")){\r\n      this.$store.state.uploadIndexMax=sessionStorage.getItem(\"uploadIndexMax\");\r\n      this.$store.state.uploadIndex=sessionStorage.getItem(\"uploadIndex\");\r\n      this.$store.state.uploadFileName=sessionStorage.getItem(\"uploadFileName\");\r\n      this.$store.state.uploadPath=sessionStorage.getItem(\"uploadPath\");\r\n      this.$store.state.uploadMd5=sessionStorage.getItem(\"uploadMd5\");\r\n      this.fileInterrupt=true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.speedTipStyleMax{\r\n  width: 200px;\r\n  height: 150px;\r\n}\r\n.speedTipStyle{\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 30px;\r\n  z-index: 100;\r\n  background-color: white;\r\n  box-shadow: 0 0 10px grey;\r\n  padding: 10px 50px ;\r\n  transition:all 1s;\r\n  border-radius: 1em;\r\n  overflow: hidden;\r\n}\r\n.speedTipStyleMin{\r\n  width: 200px;\r\n  height: 50px;\r\n}\r\n.hidden{\r\n  opacity: 0;\r\n  height: 1px;\r\n  margin-bottom: 0;\r\n}\r\n.show{\r\n  opacity: 1;\r\n  height: 30px;\r\n  margin-bottom: 20px;\r\n}\r\n.hiddenBottom{\r\n  opacity: 0;\r\n  height: 1px;\r\n  margin-top:3px\r\n}\r\n.showBottom{\r\n  opacity: 1;\r\n  height: 30px;\r\n  margin-top:10px\r\n}\r\n</style>"]}]}