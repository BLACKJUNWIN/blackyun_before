{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\net\\request.js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\net\\request.js","mtime":1659451328387},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlL2luZGV4IjsKZXhwb3J0IGNvbnN0IFJlYWxCYXNlVXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OCI7CmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykgewogIGNvbnN0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgIC8vIGJhc2VVUkw6J2h0dHBzOi8vYmxhY2tqdW4uY24vYmxhY2tZdW4nLAogICAgYmFzZVVSTDogUmVhbEJhc2VVcmwsCiAgICAvL+mcgOimgeivpeaWh+S7tuS4i+i9vQogICAgbWV0aG9kOiAncG9zdCcsCiAgICB0aW1lb3V0OiA1MDAwCiAgfSk7CiAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgICBjb25zdCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CgogICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdibG9iJykgewogICAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAodG9rZW4pIHsKICAgICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIiArIHRva2VuOwogICAgICByZXR1cm4gY29uZmlnOwogICAgfQoKICAgIHJldHVybiBjb25maWc7CiAgfSwgZXJyb3IgPT4gewogICAgaWYgKGVycm9yLmNvZGUgPT09ICJFUlJfTkVUV09SSyIpIHsKICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgY29kZTogNTAwLAogICAgICAgIG1lc3NhZ2U6ICLnvZHnu5zor7fmsYLlpLHotKUiCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgY29kZTogNTAwLAogICAgICAgIG1lc3NhZ2U6ICLor7fmsYLlvILluLgiCiAgICAgIH0pOwogICAgfQoKICAgIHN0b3JlLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICB9KTsKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlcyA9PiB7CiAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfSwgZXJyb3IgPT4gewogICAgaWYgKGVycm9yLmNvZGUgPT09ICJFUlJfTkVUV09SSyIpIHsKICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgY29kZTogNTAwLAogICAgICAgIG1lc3NhZ2U6ICLnvZHnu5zor7fmsYLlpLHotKUiCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgY29kZTogNTAwLAogICAgICAgIG1lc3NhZ2U6ICLor7fmsYLlvILluLgiCiAgICAgIH0pOwogICAgfQoKICAgIHN0b3JlLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICB9KTsKICByZXR1cm4gaW5zdGFuY2UoY29uZmlnKTsKfQ=="},{"version":3,"names":["axios","store","RealBaseUrl","request","config","instance","create","baseURL","method","timeout","interceptors","use","token","sessionStorage","getItem","responseType","state","loading","headers","error","code","commit","message","response","res","data"],"sources":["D:/BlackJun/2021/program/webstrom/yun/src/net/request.js"],"sourcesContent":["import axios from \"axios\";\nimport store from \"../store/index\"\nexport const RealBaseUrl=\"http://localhost:8088\";\nexport function request(config){\n  const instance=axios.create({\n    // baseURL:'https://blackjun.cn/blackYun',\n    baseURL:RealBaseUrl,//需要该文件下载\n    method:'post',\n    timeout:5000\n  })\n\n  instance.interceptors.request.use(config=>{\n    const token = sessionStorage.getItem(\"token\");\n    if(config.responseType!=='blob'){\n      store.state.loading=true;\n    }\n\n    if (token) {\n      config.headers['Authorization'] = \"Bearer \"+token;\n      return config\n    }\n    return config;\n  },error => {\n    if(error.code===\"ERR_NETWORK\"){\n      store.commit(\"tip\",{code:500,message:\"网络请求失败\"})\n    }else{\n      store.commit(\"tip\",{code:500,message:\"请求异常\"})\n    }\n    store.state.loading=false;\n  })\n\n  instance.interceptors.response.use(res=>{\n    store.state.loading=false;\n    return res.data;\n  },error => {\n    if(error.code===\"ERR_NETWORK\"){\n      store.commit(\"tip\",{code:500,message:\"网络请求失败\"})\n    }else{\n      store.commit(\"tip\",{code:500,message:\"请求异常\"})\n    }\n    store.state.loading=false;\n  })\n\n  return instance(config);\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAO,MAAMC,WAAW,GAAC,uBAAlB;AACP,OAAO,SAASC,OAAT,CAAiBC,MAAjB,EAAwB;EAC7B,MAAMC,QAAQ,GAACL,KAAK,CAACM,MAAN,CAAa;IAC1B;IACAC,OAAO,EAACL,WAFkB;IAEN;IACpBM,MAAM,EAAC,MAHmB;IAI1BC,OAAO,EAAC;EAJkB,CAAb,CAAf;EAOAJ,QAAQ,CAACK,YAAT,CAAsBP,OAAtB,CAA8BQ,GAA9B,CAAkCP,MAAM,IAAE;IACxC,MAAMQ,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;;IACA,IAAGV,MAAM,CAACW,YAAP,KAAsB,MAAzB,EAAgC;MAC9Bd,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,IAApB;IACD;;IAED,IAAIL,KAAJ,EAAW;MACTR,MAAM,CAACc,OAAP,CAAe,eAAf,IAAkC,YAAUN,KAA5C;MACA,OAAOR,MAAP;IACD;;IACD,OAAOA,MAAP;EACD,CAXD,EAWEe,KAAK,IAAI;IACT,IAAGA,KAAK,CAACC,IAAN,KAAa,aAAhB,EAA8B;MAC5BnB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD,CAFD,MAEK;MACHrB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD;;IACDrB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;EACD,CAlBD;EAoBAZ,QAAQ,CAACK,YAAT,CAAsBa,QAAtB,CAA+BZ,GAA/B,CAAmCa,GAAG,IAAE;IACtCvB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;IACA,OAAOO,GAAG,CAACC,IAAX;EACD,CAHD,EAGEN,KAAK,IAAI;IACT,IAAGA,KAAK,CAACC,IAAN,KAAa,aAAhB,EAA8B;MAC5BnB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD,CAFD,MAEK;MACHrB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD;;IACDrB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;EACD,CAVD;EAYA,OAAOZ,QAAQ,CAACD,MAAD,CAAf;AACD"}]}