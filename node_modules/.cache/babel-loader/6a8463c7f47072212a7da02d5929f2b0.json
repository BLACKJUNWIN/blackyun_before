{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue","mtime":1660316058279},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgd2F0Y2ggfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBTZW1pU2VsZWN0LCBNZW51IH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAic3BlZWRUaXAiLAogIGNvbXBvbmVudHM6IHsKICAgIFNlbWlTZWxlY3QsCiAgICBNZW51CiAgfSwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBsZXQgdXBsb2FkRmlsZSA9IHJlYWN0aXZlKHsKICAgICAgaW5kZXhNYXg6IDAsCiAgICAgIHRpcENvbG9yOiAiIiwKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgZmlsZUludGVycnVwdDogZmFsc2UsCiAgICAgIHNwZWVkOiAwLAogICAgICBvbGREYXRlOiAwLAogICAgICBtaW46IGZhbHNlCiAgICB9KTsKICAgIHdhdGNoKCgpID0+IHN0b3JlLnN0YXRlLnVwbG9hZEluZGV4LCAobmV3RGF0YSwgb2xkRGF0YSkgPT4gewogICAgICBpZiAobmV3RGF0YSAhPT0gMCkgewogICAgICAgIHVwbG9hZEZpbGUuc3BlZWQgPSA4IC8gKERhdGUubm93KCkgLSB1cGxvYWRGaWxlLm9sZERhdGUpICogMTAwMDsKICAgICAgICB1cGxvYWRGaWxlLmZpbGVJbnRlcnJ1cHQgPSBmYWxzZTsgLy/lvIDlp4vkuIrkvKDlkI7moIfor4bmlLnov4fmnaUKICAgICAgfQoKICAgICAgdXBsb2FkRmlsZS5pbmRleE1heCA9IHN0b3JlLnN0YXRlLnVwbG9hZEluZGV4TWF4OwogICAgICB1cGxvYWRGaWxlLm9sZERhdGUgPSBEYXRlLm5vdygpOwogICAgICB1cGxvYWRGaWxlLnBlcmNlbnRhZ2UgPSBuZXdEYXRhIC8gdXBsb2FkRmlsZS5pbmRleE1heCAqIDEwMDsKCiAgICAgIGlmICh1cGxvYWRGaWxlLnBlcmNlbnRhZ2UgPCAyMCkgewogICAgICAgIHVwbG9hZEZpbGUudGlwQ29sb3IgPSAiZXhjZXB0aW9uIjsKICAgICAgfSBlbHNlIGlmICh1cGxvYWRGaWxlLnBlcmNlbnRhZ2UgPCA1MCkgewogICAgICAgIHVwbG9hZEZpbGUudGlwQ29sb3IgPSAid2FybmluZyI7CiAgICAgIH0gZWxzZSBpZiAodXBsb2FkRmlsZS5wZXJjZW50YWdlIDwgODApIHsKICAgICAgICB1cGxvYWRGaWxlLnRpcENvbG9yID0gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdXBsb2FkRmlsZS50aXBDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgfQogICAgfSk7CiAgICB3YXRjaCgoKSA9PiBzdG9yZS5zdGF0ZS51cGxvYWRJbnRlcnJ1cHQsIChuZXdEYXRhLCBvbGREYXRhKSA9PiB7CiAgICAgIGlmIChuZXdEYXRhKSB7CiAgICAgICAgdXBsb2FkRmlsZS5maWxlSW50ZXJydXB0ID0gbmV3RGF0YTsKICAgICAgICBzdG9yZS5zdGF0ZS51cGxvYWRJbnRlcnJ1cHQgPSBmYWxzZTsKICAgICAgfQogICAgfSk7CgogICAgbGV0IGNoYW5nZUJvcmRlciA9ICgpID0+IHsKICAgICAgdXBsb2FkRmlsZS5taW4gPSAhdXBsb2FkRmlsZS5taW47CiAgICB9OwoKICAgIHJldHVybiB7IC4uLnRvUmVmcyh1cGxvYWRGaWxlKSwKICAgICAgdXBsb2FkRmlsZSwKICAgICAgY2hhbmdlQm9yZGVyCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXBsb2FkTWQ1IikpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudXBsb2FkSW5kZXhNYXggPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1cGxvYWRJbmRleE1heCIpOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS51cGxvYWRJbmRleCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVwbG9hZEluZGV4Iik7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVwbG9hZEZpbGVOYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXBsb2FkRmlsZU5hbWUiKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudXBsb2FkUGF0aCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVwbG9hZFBhdGgiKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudXBsb2FkTWQ1ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXBsb2FkTWQ1Iik7CiAgICAgIHRoaXMuZmlsZUludGVycnVwdCA9IHRydWU7CiAgICB9CiAgfQoKfTs="},{"version":3,"mappings":"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","names":["reactive","toRefs","watch","useStore","SemiSelect","Menu","name","components","setup","store","uploadFile","indexMax","tipColor","percentage","fileInterrupt","speed","oldDate","min","state","uploadIndex","newData","oldData","Date","now","uploadIndexMax","uploadInterrupt","changeBorder","created","sessionStorage","getItem","$store","uploadFileName","uploadPath","uploadMd5"],"sourceRoot":"","sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\components\\speedTip.vue"],"sourcesContent":["<template>\r\n  <div :class=\"{speedTipStyleMin:min,speedTipStyleMax:!min}\" class=\"speedTipStyle\" v-if=\"$store.state.uploadMd5!==''||fileInterrupt\">\r\n    <el-icon :size=\"20\" style=\"width: 1em; height: 1em; position: absolute;right: 15px;cursor: pointer\" @click=\"changeBorder\" :title=\"min?'最大化':'最小化'\">\r\n      <SemiSelect v-if=\"!min\"/>\r\n      <Menu v-if=\"min\"/>\r\n    </el-icon>\r\n\r\n    <div style=\"text-align: center;transition:all 1s;\" :class=\"{hidden:min,show:!min}\">\r\n      <strong v-if=\"!fileInterrupt\">正在上传文件:</strong>\r\n      <strong v-else>上传中断:</strong>\r\n      <div style=\"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width:80px;height:23px;line-height:23px;display: inline-block;background-color: #66c03a;color: white;padding:3px 6px;border-radius: .5em;position: relative;top:8px;left: 5px;cursor: pointer;\" :title=\"$store.state.uploadFileName\">\r\n        <strong>{{$store.state.uploadFileName}}</strong>\r\n      </div>\r\n    </div>\r\n    <el-progress :text-inside=\"true\" :stroke-width=\"26\" :percentage=\"parseFloat(percentage.toFixed(2))\" :status=\"tipColor\"/>\r\n    <div style=\"text-align: center;margin-top:5px\"><strong style=\"font-size:23px;color: darkorange\">{{(speed).toFixed(2)}}</strong> Mbps/s</div>\r\n    <div style=\"display: flex;justify-content: center;transition:all 1s\"  :class=\"{hiddenBottom:min,showBottom:!min}\">\r\n        <el-button v-if=\"fileInterrupt\" type=\"warning\" title=\"点击「上传文件」,来重新上传\" @click=\"$router.push({path:'/more',query:{path:$store.state.uploadPath}})\" :disabled=\"$route.path==='/more'\"><strong>重新上传</strong></el-button>\r\n      <el-button type=\"info\" title=\"取消上传\" @click=\"$store.state.uploadCancel=true;fileInterrupt=false\"><strong>取消上传</strong></el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive, toRefs, watch} from \"vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {SemiSelect,Menu} from '@element-plus/icons'\r\nexport default {\r\n  name: \"speedTip\",\r\n  components:{\r\n    SemiSelect,\r\n    Menu\r\n  },\r\n  setup(){\r\n    const store=useStore();\r\n    let uploadFile=reactive({\r\n      indexMax:0,\r\n      tipColor:\"\",\r\n      percentage:0,\r\n      fileInterrupt:false,\r\n      speed:0,\r\n      oldDate:0,\r\n      min:false\r\n    })\r\n    watch(()=>store.state.uploadIndex,(newData,oldData)=>{\r\n      if(newData!==0){\r\n        uploadFile.speed=(8/(Date.now()-uploadFile.oldDate)*1000);\r\n        uploadFile.fileInterrupt=false;//开始上传后标识改过来\r\n      }\r\n      uploadFile.indexMax=store.state.uploadIndexMax;\r\n      uploadFile.oldDate=Date.now();\r\n      uploadFile.percentage=newData/uploadFile.indexMax*100;\r\n      if(uploadFile.percentage<20){\r\n        uploadFile.tipColor=\"exception\";\r\n      }else if(uploadFile.percentage<50){\r\n        uploadFile.tipColor=\"warning\";\r\n      }else if(uploadFile.percentage<80){\r\n        uploadFile.tipColor=\"\"\r\n      }else{\r\n        uploadFile.tipColor=\"success\"\r\n      }\r\n    })\r\n\r\n    watch(()=>store.state.uploadInterrupt,(newData,oldData)=>{\r\n      if(newData){\r\n        uploadFile.fileInterrupt=newData;\r\n        store.state.uploadInterrupt=false;\r\n      }\r\n\r\n    })\r\n\r\n    let changeBorder=()=>{\r\n      uploadFile.min=!uploadFile.min;\r\n    }\r\n\r\n\r\n    return {\r\n      ...toRefs(uploadFile),\r\n      uploadFile,\r\n      changeBorder\r\n    }\r\n  },\r\n  created() {\r\n    if(sessionStorage.getItem(\"uploadMd5\")){\r\n      this.$store.state.uploadIndexMax=sessionStorage.getItem(\"uploadIndexMax\");\r\n      this.$store.state.uploadIndex=sessionStorage.getItem(\"uploadIndex\");\r\n      this.$store.state.uploadFileName=sessionStorage.getItem(\"uploadFileName\");\r\n      this.$store.state.uploadPath=sessionStorage.getItem(\"uploadPath\");\r\n      this.$store.state.uploadMd5=sessionStorage.getItem(\"uploadMd5\");\r\n      this.fileInterrupt=true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.speedTipStyleMax{\r\n  width: 200px;\r\n  height: 150px;\r\n}\r\n.speedTipStyle{\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 30px;\r\n  z-index: 100;\r\n  background-color: white;\r\n  box-shadow: 0 0 10px grey;\r\n  padding: 10px 50px ;\r\n  transition:all 1s;\r\n  border-radius: 1em;\r\n  overflow: hidden;\r\n}\r\n.speedTipStyleMin{\r\n  width: 200px;\r\n  height: 50px;\r\n}\r\n.hidden{\r\n  opacity: 0;\r\n  height: 1px;\r\n  margin-bottom: 0;\r\n}\r\n.show{\r\n  opacity: 1;\r\n  height: 30px;\r\n  margin-bottom: 20px;\r\n}\r\n.hiddenBottom{\r\n  opacity: 0;\r\n  height: 1px;\r\n  margin-top:3px\r\n}\r\n.showBottom{\r\n  opacity: 1;\r\n  height: 30px;\r\n  margin-top:10px\r\n}\r\n</style>"]}]}