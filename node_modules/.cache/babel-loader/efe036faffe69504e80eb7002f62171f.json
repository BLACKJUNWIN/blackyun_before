{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue","mtime":1659341228302},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRQYWNrOiAnJywKICAgICAgdXBsb2FkOiAnJywKICAgICAgdXBsb2FkU2l6ZTogMAogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgJyRzdG9yZS5zdGF0ZS51cGxvYWRTaXplJzogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdGhpcy51cGxvYWRTaXplID0gTWF0aC5yb3VuZChkYXRhIC8gdGhpcy51cGxvYWQuc2l6ZSAqIDEwMCk7CgogICAgICBpZiAodGhpcy51cGxvYWRTaXplID49IDEwMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgICAgY29kZTogIjIwMCIsCiAgICAgICAgICBtZXNzYWdlOiAi5paH5Lu25LiL6L295a6M5oiQIgogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVwbG9hZFNpemUgPSAwOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGxvYWRGaWxlOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZCcpLmZpbGVzWzBdKTsKCiAgICAgIGlmIChmb3JtRGF0YS5nZXQoImZpbGUiKS5zaXplIC8gMTAyNCA+IDEwMjQgKiAyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgICBjb2RlOiAiNTAwIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmlofku7blpKflsI/otoXov4cyTSIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwbG9hZCA9IHsKICAgICAgICAgIGZpbGVOYW1lOiBmb3JtRGF0YS5nZXQoImZpbGUiKS5uYW1lLAogICAgICAgICAgc2l6ZTogZm9ybURhdGEuZ2V0KCJmaWxlIikuc2l6ZQogICAgICAgIH07CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlUGF0aCIsICJudWxsIik7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHVwbG9hZChmb3JtRGF0YSk7CiAgICAgIH0KICAgIH0sCgogICAgY2xpY2tVcGxvYWQoKSB7CiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpKSB7CiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWRGaWxlLmNsaWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ0aXAiLCB7CiAgICAgICAgICBjb2RlOiA1MDAsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI55m75b2VIgogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAeA,eAAe;EACbA,IAAI,EAAE,MADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,WAAW,EAAC,EADP;MAELC,MAAM,EAAC,EAFF;MAGLC,UAAU,EAAC;IAHN,CAAP;EAKD,CARY;;EASbC,KAAK,EAAC;IACJ,2BAA0B,UAAUJ,IAAV,EAAe;MACvC,KAAKG,UAAL,GAAgBE,IAAI,CAACC,KAAL,CAAWN,IAAI,GAAE,KAAKE,MAAL,CAAYK,IAAlB,GAAwB,GAAnC,CAAhB;;MACA,IAAG,KAAKJ,UAAL,IAAiB,GAApB,EAAwB;QACtB,KAAKK,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAAyB;UAACC,IAAI,EAAC,KAAN;UAAYC,OAAO,EAAC;QAApB,CAAzB;QACA,KAAKH,MAAL,CAAYI,KAAZ,CAAkBT,UAAlB,GAA6B,CAA7B;MACF;IACF;EAPI,CATO;EAkBbU,OAAO,EAAE;IACPC,UAAU,EAAE,kBAAkB;MAC1B,IAAIC,QAAO,GAAI,IAAIC,MAAM,CAACC,QAAX,EAAf;MACAF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCC,KAAlC,CAAwC,CAAxC,CAAxB;;MACA,IAAIN,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBf,IAArB,GAA0B,IAA1B,GAA+B,OAAK,CAAxC,EAA0C;QACxC,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAAyB;UAACC,IAAI,EAAC,KAAN;UAAYC,OAAO,EAAC;QAApB,CAAzB;MACD,CAFD,MAEK;QACH,KAAKT,MAAL,GAAY;UACVqB,QAAQ,EAACR,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBvB,IADpB;UAEVQ,IAAI,EAACQ,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBf;QAFhB,CAAZ;QAIAQ,QAAQ,CAACG,MAAT,CAAgB,UAAhB,EAA4B,MAA5B;QACA,IAAIM,GAAE,GAAI,MAAMtB,MAAM,CAACa,QAAD,CAAtB;MACF;IAEH,CAfM;;IAgBPU,WAAW,GAAE;MACX,IAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAH,EAAmC;QACjC,KAAKC,KAAL,CAAWd,UAAX,CAAsBe,KAAtB;MACD,CAFD,MAEK;QACH,KAAKrB,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAAyB;UAACC,IAAI,EAAC,GAAN;UAAUC,OAAO,EAAC;QAAlB,CAAzB;QACA,KAAKmB,OAAL,CAAaC,IAAb,CAAkB,QAAlB;MACF;IACD;;EAvBM;AAlBI,CAAf","names":["name","data","currentPack","upload","uploadSize","watch","Math","round","size","$store","commit","code","message","state","methods","uploadFile","formData","window","FormData","append","document","querySelector","files","get","fileName","res","clickUpload","sessionStorage","getItem","$refs","click","$router","push"],"sourceRoot":"","sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue"],"sourcesContent":["<template>\n  <div style=\"min-width: 1500px;margin-top:50px;min-height: 500px\" >\n    <div style=\"text-align: center;font-size: 40px;letter-spacing: 15px;\"><strong>黑盘不<strong style=\"color: white;background-color: black;letter-spacing: normal;padding:5px 10px;border-radius: .3em\">黑</strong>&nbsp;&nbsp;只为初心</strong></div>\n    <div style=\"text-align: center;font-size: 16px;color: #a7adad;margin-top:25px\"><strong>在线免费云盘,不限制网速,支持大部分文件在线预览,文件上传下载,1~5M/基本上传下载速度.</strong></div>\n    <div style=\"width:50%;height:400px;margin:50px auto 20px auto;box-shadow: 0 0 8px rgba(128,128,128,0.51);border-radius: 1.5em;z-index: 10\">\n      <div style=\"margin:0 auto;width:300px;height: 150px;position:relative;top:120px\">\n        <input type=\"file\" id=\"upload\" style=\"display: none\" ref=\"uploadFile\" @change=\"uploadFile\"/>\n        <el-button type=\"primary\" style=\"width:300px;height: 150px;border-radius: 1em;font-size: 28px;font-weight: bold\" icon=\"el-icon-upload\" @click=\"clickUpload\">文件上传</el-button>\n        <div style=\"margin-top:20px;font-size: 16px;font-weight: bold;color: grey;text-align: center\"><i class=\"el-icon-s-opportunity\" style=\"font-size:30px;color: #43a1fd;position:relative;top:3px\"></i>文件会被放入临时文件夹</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      currentPack:'',\n      upload:'',\n      uploadSize:0\n    };\n  },\n  watch:{\n    '$store.state.uploadSize':function (data){\n      this.uploadSize=Math.round(data/(this.upload.size)*100);\n      if(this.uploadSize>=100){\n        this.$store.commit(\"tip\",{code:\"200\",message:\"文件下载完成\"})\n        this.$store.state.uploadSize=0;\n      }\n    }\n  },\n  methods: {\n    uploadFile: async function () {\n        let formData = new window.FormData;\n        formData.append(\"file\", document.querySelector('#upload').files[0]);\n        if (formData.get(\"file\").size/1024>1024*2){\n          this.$store.commit(\"tip\",{code:\"500\",message:\"文件大小超过2M\"})\n        }else{\n          this.upload={\n            fileName:formData.get(\"file\").name,\n            size:formData.get(\"file\").size\n          }\n          formData.append(\"filePath\", \"null\");\n          let res = await upload(formData);\n        }\n\n    },\n    clickUpload(){\n      if(sessionStorage.getItem(\"token\")){\n        this.$refs.uploadFile.click()\n      }else{\n        this.$store.commit(\"tip\",{code:500,message:\"请先登录\"})\n        this.$router.push(\"/login\")\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}