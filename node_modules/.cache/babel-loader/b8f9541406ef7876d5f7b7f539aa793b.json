{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue","mtime":1660047738829},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBsZXQgZmlsZSA9IHJlYWN0aXZlKHsKICAgICAgY3VycmVudFBhY2s6ICcnLAogICAgICB1cGxvYWQ6ICcnLAogICAgICB1cGxvYWRTaXplOiAwLAogICAgICBib3hTdHlsZTogIiIKICAgIH0pOwoKICAgIGxldCB1cGxvYWRGaWxlID0gYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBsZXQgZm9ybURhdGEgPSBuZXcgd2luZG93LkZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQnKS5maWxlc1swXSk7CgogICAgICBpZiAoZm9ybURhdGEuZ2V0KCJmaWxlIikuc2l6ZSAvIDEwMjQgPiAxMDI0ICogMikgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgICAgY29kZTogIjUwMCIsCiAgICAgICAgICBtZXNzYWdlOiAi5paH5Lu25aSn5bCP6LaF6L+HMk0iCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGxvYWQgPSB7CiAgICAgICAgICBmaWxlTmFtZTogZm9ybURhdGEuZ2V0KCJmaWxlIikubmFtZSwKICAgICAgICAgIHNpemU6IGZvcm1EYXRhLmdldCgiZmlsZSIpLnNpemUKICAgICAgICB9OwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZVBhdGgiLCAibnVsbCIpOwogICAgICAgIGxldCByZXMgPSBhd2FpdCB1cGxvYWQoZm9ybURhdGEpOwogICAgICB9CiAgICB9OwoKICAgIGxldCBjbGlja1VwbG9hZCA9ICgpID0+IHsKICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikpIHsKICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZEZpbGUuY2xpY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInRpcCIsIHsKICAgICAgICAgIGNvZGU6IDUwMCwKICAgICAgICAgIG1lc3NhZ2U6ICLor7flhYjnmbvlvZUiCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICB9CiAgICB9OwoKICAgIHdhdGNoKCgpID0+IHN0b3JlLnN0YXRlLmNsaWVudEhlaWdodCwgKG5ld0RhdGEsIG9sZERhdGEpID0+IHsKICAgICAgZmlsZS5ib3hTdHlsZSA9ICJoZWlnaHQ6IiArIChuZXdEYXRhIC0gMjMwKSArICJweCI7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUuYm94U3R5bGUpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBmaWxlLAogICAgICAuLi50b1JlZnMoZmlsZSksCiAgICAgIHVwbG9hZEZpbGUsCiAgICAgIGNsaWNrVXBsb2FkCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB0aGlzLmJveFN0eWxlID0gImhlaWdodDoiICsgKHN0b3JlLnN0YXRlLmNsaWVudEhlaWdodCAtIDIzMCkgKyAicHgiOyAvL+ebkeWQrOmhtemdouWPmOWMlgogICAgLy8gd2luZG93Lm9ucmVzaXplPSgpPT57CiAgICAvLwogICAgLy8gfQogIH0KCn07"},{"version":3,"mappings":"AAeA,SAAQA,QAAR,EAAkBC,MAAlB,QAA+B,KAA/B;AACA,SAAQC,KAAR,QAAoB,KAApB;AACA,SAAQC,QAAR,QAAuB,MAAvB;AACA,eAAe;EACbC,IAAI,EAAE,MADO;;EAEbC,KAAK,GAAE;IACL,MAAMC,KAAI,GAAGH,QAAQ,EAArB;IACA,IAAII,IAAI,GAACP,QAAQ,CAAC;MAChBQ,WAAW,EAAC,EADI;MAEhBC,MAAM,EAAC,EAFS;MAGhBC,UAAU,EAAC,CAHK;MAIhBC,QAAQ,EAAC;IAJO,CAAD,CAAjB;;IAOA,IAAIC,UAAU,GAAC,kBAAkB;MAC/B,IAAIC,QAAO,GAAI,IAAIC,MAAM,CAACC,QAAX,EAAf;MACAF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,EAAkCC,KAAlC,CAAwC,CAAxC,CAAxB;;MACA,IAAIN,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBC,IAArB,GAA0B,IAA1B,GAA+B,OAAK,CAAxC,EAA0C;QACxC,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAAyB;UAACC,IAAI,EAAC,KAAN;UAAYC,OAAO,EAAC;QAApB,CAAzB;MACD,CAFD,MAEK;QACH,KAAKhB,MAAL,GAAY;UACViB,QAAQ,EAACb,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBhB,IADpB;UAEViB,IAAI,EAACR,QAAQ,CAACO,GAAT,CAAa,MAAb,EAAqBC;QAFhB,CAAZ;QAIAR,QAAQ,CAACG,MAAT,CAAgB,UAAhB,EAA4B,MAA5B;QACA,IAAIW,GAAE,GAAI,MAAMlB,MAAM,CAACI,QAAD,CAAtB;MACF;IACF,CAbA;;IAcA,IAAIe,WAAW,GAAC,MAAI;MAClB,IAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAH,EAAmC;QACjC,KAAKC,KAAL,CAAWnB,UAAX,CAAsBoB,KAAtB;MACD,CAFD,MAEK;QACH,KAAKV,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAAyB;UAACC,IAAI,EAAC,GAAN;UAAUC,OAAO,EAAC;QAAlB,CAAzB;QACA,KAAKQ,OAAL,CAAaC,IAAb,CAAkB,QAAlB;MACF;IACF,CAPA;;IASAhC,KAAK,CAAC,MAAII,KAAK,CAAC6B,KAAN,CAAYC,YAAjB,EAA8B,CAACC,OAAD,EAASC,OAAT,KAAmB;MACpD/B,IAAI,CAACI,QAAL,GAAc,aAAW0B,OAAO,GAAC,GAAnB,IAAwB,IAAtC;MACAE,OAAO,CAACC,GAAR,CAAYjC,IAAI,CAACI,QAAjB;IACD,CAHI,CAAL;IAKA,OAAO;MACLJ,IADK;MAEL,GAAGN,MAAM,CAACM,IAAD,CAFJ;MAGLK,UAHK;MAILgB;IAJK,CAAP;EAMD,CA7CY;;EA8Cba,OAAO,GAAE;IACP,MAAMnC,KAAI,GAAGH,QAAQ,EAArB;IACA,KAAKQ,QAAL,GAAc,aAAWL,KAAK,CAAC6B,KAAN,CAAYC,YAAZ,GAAyB,GAApC,IAAyC,IAAvD,CAFO,CAIP;IACA;IACA;IACA;EAEF;;AAvDa,CAAf","names":["reactive","toRefs","watch","useStore","name","setup","store","file","currentPack","upload","uploadSize","boxStyle","uploadFile","formData","window","FormData","append","document","querySelector","files","get","size","$store","commit","code","message","fileName","res","clickUpload","sessionStorage","getItem","$refs","click","$router","push","state","clientHeight","newData","oldData","console","log","mounted"],"sourceRoot":"","sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\home.vue"],"sourcesContent":["<template>\n  <div style=\"min-height:650px;position: relative;top:50px;\" :style=\"boxStyle\">\n    <div style=\"text-align: center;font-size: 40px;letter-spacing: 15px;\"><strong>黑盘不<strong style=\"color: white;background-color: black;letter-spacing: normal;padding:5px 10px;border-radius: .3em\">黑</strong>&nbsp;&nbsp;只为初心</strong></div>\n    <div style=\"text-align: center;font-size: 16px;color: #a7adad;margin-top:2%\"><strong>在线免费云盘,不限制网速,支持大部分文件在线预览,文件上传下载,1~5M/基本上传下载速度.</strong></div>\n    <div style=\"width:60%;height:70%;margin:2% auto 20px auto;box-shadow: 0 0 8px rgba(128,128,128,0.8);border-radius: 1.5em;z-index: 10\">\n      <div style=\"margin:0 auto;width:300px;height: 150px;position:relative;transform:translateY(-50%);top:50% \">\n        <input type=\"file\" id=\"upload\" style=\"display: none\" ref=\"uploadFile\" @change=\"uploadFile\"/>\n        <el-button type=\"primary\" style=\"width:300px;height: 150px;border-radius: 1em;font-size: 28px;font-weight: bold\" @click=\"clickUpload\">文件上传</el-button>\n        <div style=\"margin-top:20px;font-size: 16px;font-weight: bold;color: grey;text-align: center\">文件会被放入临时文件夹</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {reactive, toRefs} from \"vue\";\nimport {watch} from \"vue\";\nimport {useStore} from \"vuex\";\nexport default {\n  name: \"home\",\n  setup(){\n    const store =useStore();\n    let file=reactive({\n      currentPack:'',\n      upload:'',\n      uploadSize:0,\n      boxStyle:\"\",\n    })\n\n    let uploadFile=async function () {\n      let formData = new window.FormData;\n      formData.append(\"file\", document.querySelector('#upload').files[0]);\n      if (formData.get(\"file\").size/1024>1024*2){\n        this.$store.commit(\"tip\",{code:\"500\",message:\"文件大小超过2M\"})\n      }else{\n        this.upload={\n          fileName:formData.get(\"file\").name,\n          size:formData.get(\"file\").size\n        }\n        formData.append(\"filePath\", \"null\");\n        let res = await upload(formData);\n      }\n    }\n    let clickUpload=()=>{\n      if(sessionStorage.getItem(\"token\")){\n        this.$refs.uploadFile.click()\n      }else{\n        this.$store.commit(\"tip\",{code:500,message:\"请先登录\"})\n        this.$router.push(\"/login\")\n      }\n    }\n\n    watch(()=>store.state.clientHeight,(newData,oldData)=>{\n      file.boxStyle=\"height:\"+(newData-230)+\"px\";\n      console.log(file.boxStyle);\n    })\n\n    return {\n      file,\n      ...toRefs(file),\n      uploadFile,\n      clickUpload,\n    }\n  },\n  mounted(){\n    const store =useStore();\n    this.boxStyle=\"height:\"+(store.state.clientHeight-230)+\"px\";\n\n    //监听页面变化\n    // window.onresize=()=>{\n    //\n    // }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}