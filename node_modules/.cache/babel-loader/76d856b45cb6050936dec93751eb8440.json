{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\net\\request.js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\net\\request.js","mtime":1660364454980},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlL2luZGV4IjsKZXhwb3J0IGNvbnN0IFJlYWxCYXNlVXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OCI7CmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykgewogIGNvbnN0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgIC8vIGJhc2VVUkw6J2h0dHBzOi8vYmxhY2tqdW4uY24vYmxhY2tZdW4nLAogICAgYmFzZVVSTDogUmVhbEJhc2VVcmwsCiAgICAvL+mcgOimgeivpeaWh+S7tuS4i+i9vQogICAgbWV0aG9kOiAncG9zdCcKICB9KTsKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICAgIGNvbnN0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKCiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2Jsb2InICYmIGNvbmZpZy51cmwgIT09ICcvZmlsZVBhdGgvdXBsb2FkX3NsaWNlX2ZpbGUnICYmIGNvbmZpZy51cmwgIT09ICcvZmlsZVBhdGgvZmlsZV9leGlzdCcpIHsKICAgICAgc3RvcmUuc3RhdGUubG9hZGluZyA9IHRydWU7CiAgICB9CgogICAgaWYgKHRva2VuKSB7CiAgICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIgKyB0b2tlbjsKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0KCiAgICByZXR1cm4gY29uZmlnOwogIH0sIGVycm9yID0+IHsKICAgIGlmIChlcnJvci5jb2RlID09PSAiRVJSX05FVFdPUksiKSB7CiAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgIGNvZGU6IDUwMCwKICAgICAgICBtZXNzYWdlOiAi572R57uc6K+35rGC5aSx6LSlIgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgIGNvZGU6IDUwMCwKICAgICAgICBtZXNzYWdlOiAi6K+35rGC5byC5bi4IgogICAgICB9KTsKICAgIH0KCiAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgfSk7CiAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXMgPT4gewogICAgc3RvcmUuc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0sIGVycm9yID0+IHsKICAgIGlmIChlcnJvci5jb2RlID09PSAiRVJSX05FVFdPUksiKSB7CiAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgIGNvZGU6IDUwMCwKICAgICAgICBtZXNzYWdlOiAi572R57uc6K+35rGC5aSx6LSlIgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgewogICAgICAgIGNvZGU6IDUwMCwKICAgICAgICBtZXNzYWdlOiAi6K+35rGC5byC5bi4IgogICAgICB9KTsKICAgIH0KCiAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgfSk7CiAgcmV0dXJuIGluc3RhbmNlKGNvbmZpZyk7Cn0="},{"version":3,"names":["axios","store","RealBaseUrl","request","config","instance","create","baseURL","method","interceptors","use","token","sessionStorage","getItem","responseType","url","state","loading","headers","error","code","commit","message","response","res","data"],"sources":["D:/BlackJun/2021/program/webstrom/yun/src/net/request.js"],"sourcesContent":["import axios from \"axios\";\nimport store from \"../store/index\"\nexport const RealBaseUrl=\"http://localhost:8088\";\nexport function request(config){\n  const instance=axios.create({\n    // baseURL:'https://blackjun.cn/blackYun',\n    baseURL:RealBaseUrl,//需要该文件下载\n    method:'post'\n  })\n\n  instance.interceptors.request.use(config=>{\n    const token = sessionStorage.getItem(\"token\");\n    if(config.responseType!=='blob'&&config.url!=='/filePath/upload_slice_file'&&config.url!=='/filePath/file_exist'){\n      store.state.loading=true;\n    }\n\n    if (token) {\n      config.headers['Authorization'] = \"Bearer \"+token;\n      return config\n    }\n    return config;\n  },error => {\n    if(error.code===\"ERR_NETWORK\"){\n      store.commit(\"tip\",{code:500,message:\"网络请求失败\"})\n    }else{\n      store.commit(\"tip\",{code:500,message:\"请求异常\"})\n    }\n    store.state.loading=false;\n  })\n\n  instance.interceptors.response.use(res=>{\n    store.state.loading=false;\n    return res.data;\n  },error => {\n    if(error.code===\"ERR_NETWORK\"){\n      store.commit(\"tip\",{code:500,message:\"网络请求失败\"})\n    }else{\n      store.commit(\"tip\",{code:500,message:\"请求异常\"})\n    }\n    store.state.loading=false;\n  })\n\n  return instance(config);\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAO,MAAMC,WAAW,GAAC,uBAAlB;AACP,OAAO,SAASC,OAAT,CAAiBC,MAAjB,EAAwB;EAC7B,MAAMC,QAAQ,GAACL,KAAK,CAACM,MAAN,CAAa;IAC1B;IACAC,OAAO,EAACL,WAFkB;IAEN;IACpBM,MAAM,EAAC;EAHmB,CAAb,CAAf;EAMAH,QAAQ,CAACI,YAAT,CAAsBN,OAAtB,CAA8BO,GAA9B,CAAkCN,MAAM,IAAE;IACxC,MAAMO,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;;IACA,IAAGT,MAAM,CAACU,YAAP,KAAsB,MAAtB,IAA8BV,MAAM,CAACW,GAAP,KAAa,6BAA3C,IAA0EX,MAAM,CAACW,GAAP,KAAa,sBAA1F,EAAiH;MAC/Gd,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,IAApB;IACD;;IAED,IAAIN,KAAJ,EAAW;MACTP,MAAM,CAACc,OAAP,CAAe,eAAf,IAAkC,YAAUP,KAA5C;MACA,OAAOP,MAAP;IACD;;IACD,OAAOA,MAAP;EACD,CAXD,EAWEe,KAAK,IAAI;IACT,IAAGA,KAAK,CAACC,IAAN,KAAa,aAAhB,EAA8B;MAC5BnB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD,CAFD,MAEK;MACHrB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD;;IACDrB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;EACD,CAlBD;EAoBAZ,QAAQ,CAACI,YAAT,CAAsBc,QAAtB,CAA+Bb,GAA/B,CAAmCc,GAAG,IAAE;IACtCvB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;IACA,OAAOO,GAAG,CAACC,IAAX;EACD,CAHD,EAGEN,KAAK,IAAI;IACT,IAAGA,KAAK,CAACC,IAAN,KAAa,aAAhB,EAA8B;MAC5BnB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD,CAFD,MAEK;MACHrB,KAAK,CAACoB,MAAN,CAAa,KAAb,EAAmB;QAACD,IAAI,EAAC,GAAN;QAAUE,OAAO,EAAC;MAAlB,CAAnB;IACD;;IACDrB,KAAK,CAACe,KAAN,CAAYC,OAAZ,GAAoB,KAApB;EACD,CAVD;EAYA,OAAOZ,QAAQ,CAACD,MAAD,CAAf;AACD"}]}