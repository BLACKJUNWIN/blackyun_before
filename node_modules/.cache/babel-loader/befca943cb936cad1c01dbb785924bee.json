{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue","mtime":1660485581711},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQmFjaywgRGVsZXRlLCBQbHVzLCBab29tSW4gfSBmcm9tICJAZWxlbWVudC1wbHVzL2ljb25zIjsKaW1wb3J0IHsgc2hvd1BhY2ssIHJlbW92ZUZpbGVQYXRoLCBuZXRfbmV3TWtkaXIsIG5ldF9maWxlRXhpc3QsIG5ldF91cGxvYWRTbGljZUZpbGUsIG5ldF9maWxlQ29tYmluZWQsIG5ldF91cGxvYWRDYW5jZWwsIG5ldF9jYXRlZ29yeUxpc3QsIG5ldF9zaGFyZUZpbGUsIG5ldF91cGxvYWRJbWFnZSB9IGZyb20gIkAvbmV0L2ZpbGUiOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgUmVhbEJhc2VVcmwgfSBmcm9tICJAL25ldC9yZXF1ZXN0IjsKaW1wb3J0IFNwYXJrTUQ1IGZyb20gInNwYXJrLW1kNSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibW9yZSIsCiAgY29tcG9uZW50czogewogICAgQmFjaywKICAgIERlbGV0ZSwKICAgIFBsdXMsCiAgICBab29tSW4KICB9LAoKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgd2F0Y2gocm91dGUsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHsKICAgICAgaWYgKG5ld1ZhbHVlLnBhdGggPT09ICIvbW9yZSIpIHsKICAgICAgICBlbnRlclBhY2soKTsKICAgICAgfQogICAgfSk7IC8v5Z+656GA5bGe5oCnCgogICAgbGV0IGZpbGVEYXRhID0gcmVhY3RpdmUoewogICAgICBjdXJyZW50UGFjazogW10sCiAgICAgIGN1cnJlbnRGaWxlOiB7fSwKICAgICAgZmlsZU1hbmFnZTogZmFsc2UsCiAgICAgIGZpbGVNYW5hZ2VJbm5lcjogZmFsc2UsCiAgICAgIGFkZE1rZGlyOiBmYWxzZSwKICAgICAgbWtkaXJOYW1lOiAiIiwKICAgICAgcmVjb3JkczogW10sCiAgICAgIGFib3J0Q29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpCiAgICB9KTsKICAgIGxldCBmaWxlID0gcmVhY3RpdmUoewogICAgICBzbGljZVRvdGFsOiAwLAogICAgICBoYXNoOiAiIiwKICAgICAgdXBsb2FkTGlzdDogW10sCiAgICAgIHVwbG9hZEZpbGVOYW1lOiAiIiwKICAgICAgdXBsb2FkRmlsZVJlYWxOYW1lOiAiIiwKICAgICAgZmlsZVVwbG9hZGVkOiAwLAogICAgICBjYXRlZ29yeTogW10sCiAgICAgIHNoYXJlRmlsZTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGNhdGVnb3J5SWQ6ICIxNTM0NDQ4OTY2ODA5NzY3OTM3IiwKICAgICAgICBmaWxlSWQ6IDAsCiAgICAgICAgdXJsOiAiIgogICAgICB9LAogICAgICB1cGxvYWRJY29uOiAiIgogICAgfSk7CgogICAgbGV0IGNsaWNrVXBsb2FkSW1hZ2UgPSAoKSA9PiB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpY29uIikuY2xpY2soKTsKICAgIH07IC8v5LiK5Lyg5Zu+54mH5o6l5Y+jCgoKICAgIGxldCB1cGxvYWRJbWFnZXMgPSBhc3luYyAoKSA9PiB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpY29uIikuZmlsZXNbMF07CgogICAgICBpZiAoaWNvbi5zaXplID4gMTAyNCAqIDEwMjQpIHsKICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgY29kZTogIjUwMCIsCiAgICAgICAgICBtZXNzYWdlOiAi5Zu+5qCH5aSn5LqONTAwa2Is6K+36YeN5paw5LiK5LygIgogICAgICAgIH07CiAgICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCByZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGljb24pOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiY2F0ZWdvcnkiLCAiaWNvbiIpOwogICAgICAgIGxldCByZXMgPSBhd2FpdCBuZXRfdXBsb2FkSW1hZ2UoZm9ybURhdGEpOwogICAgICAgIGZpbGUudXBsb2FkSWNvbiA9IHJlcy5kYXRhLnBhdGg7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNpY29uIikudmFsdWUgPSAiIjsKICAgIH07IC8v5paH5Lu25YiG5LqrCgoKICAgIGxldCB1cGxvYWRTaGFyZUZpbGUgPSBhc3luYyAoKSA9PiB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBuZXRfc2hhcmVGaWxlKGZpbGUuc2hhcmVGaWxlKTsKCiAgICAgIGlmIChyZXMuY29kZSA9PT0gIjIwMCIpIHsKICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgY29kZTogIjIwMSIsCiAgICAgICAgICBtZXNzYWdlOiAi5YiG5Lqr5oiQ5YqfLOetieW+heeuoeeQhuWRmOWuoeaguCEiCiAgICAgICAgfTsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCByZXMpOwogICAgICB9CiAgICB9OyAvL+i/m+WFpeWvueW6lOaWh+S7tuWkuQoKCiAgICBsZXQgZW50ZXJQYWNrID0gYXN5bmMgKCkgPT4gewogICAgICBmaWxlRGF0YS5jdXJyZW50UGFjayA9IChhd2FpdCBzaG93UGFjayh7CiAgICAgICAgImxldmVsIjogcm91dGUucXVlcnkucGF0aAogICAgICB9KSkuZGF0YTsKICAgICAgZmlsZURhdGEucmVjb3JkcyA9IHJvdXRlLnF1ZXJ5LnBhdGguc3Vic3RyaW5nKDEpLnNwbGl0KCIvIik7CiAgICB9OyAvL+i/m+WFpeaWh+S7tuaXtgoKCiAgICBsZXQgZW50ZXJGaWxlID0gZmlsZSA9PiB7CiAgICAgIGlmIChmaWxlLnR5cGUgPT09ICJwYWNrIikgewogICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvbW9yZSIsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBwYXRoOiBmaWxlLmxldmVsICsgZmlsZS5uYW1lICsgIi8iCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgZW50ZXJQYWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmlsZURhdGEuY3VycmVudEZpbGUgPSBmaWxlOwogICAgICAgIGZpbGVEYXRhLmZpbGVNYW5hZ2UgPSB0cnVlOwogICAgICB9CiAgICB9OyAvL+iOt+WPluaWh+S7tuagt+W8j+W5tuWxleekuuWvueW6lOagt+W8j+WbvueJhwoKCiAgICBsZXQgZ2V0VHlwZSA9IHR5cGUgPT4gewogICAgICB0cnkgewogICAgICAgIHJldHVybiByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZXMvZmlsZVR5cGUvIiArIHR5cGUgKyAiLnN2ZyIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIkAvYXNzZXRzL2ltYWdlcy9maWxlVHlwZS9udWxsLnN2ZyIpOwogICAgICB9CiAgICB9OyAvL+i/lOWbnuS4iuS4gOe6pwoKCiAgICBsZXQgYmFja0xldmVsID0gKCkgPT4gewogICAgICBsZXQgbGV2ZWwgPSByb3V0ZS5xdWVyeS5wYXRoLnN1YnN0cmluZygwLCByb3V0ZS5xdWVyeS5wYXRoLmxlbmd0aCAtIDEpOwogICAgICBsZXQgb2xkTGV2ZWwgPSBsZXZlbC5zdWJzdHJpbmcoMCwgbGV2ZWwubGFzdEluZGV4T2YoIi8iKSArIDEpOwoKICAgICAgaWYgKG9sZExldmVsLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgb2xkTGV2ZWwgPSAiLyI7CiAgICAgIH0KCiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL21vcmUiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBwYXRoOiBvbGRMZXZlbAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGVudGVyUGFjaygpOwogICAgfTsgLy/liKDpmaTmlofku7bot6/lvoQKCgogICAgbGV0IGRlbGV0ZUZpbGUgPSBhc3luYyAoKSA9PiB7CiAgICAgIGxldCByZXMgPSBhd2FpdCByZW1vdmVGaWxlUGF0aChmaWxlRGF0YS5jdXJyZW50RmlsZS5pZCk7CiAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgcmVzKTsKICAgICAgYXdhaXQgZW50ZXJQYWNrKCk7CiAgICB9OyAvL+WcqOe6v+a1j+iniOaWh+S7tgoKCiAgICBsZXQgb25saW5lRmlsZSA9ICgpID0+IHsKICAgICAgd2luZG93Lm9wZW4oUmVhbEJhc2VVcmwgKyAiL3VwbG9hZC90ZW1wLyIgKyBmaWxlRGF0YS5jdXJyZW50RmlsZS5yZWFsTmFtZSwgJ19ibGFuaycpOwogICAgfTsgLy/kuIvovb3mlofku7YKCgogICAgbGV0IGRvd25GaWxlID0gKCkgPT4gewogICAgICB3aW5kb3cub3BlbihSZWFsQmFzZVVybCArICIvdjEvZG93bj9tZDU9IiArIGZpbGVEYXRhLmN1cnJlbnRGaWxlLm1kNSwgJ19ibGFuaycpOwogICAgfTsgLy/mlrDlop7mlofku7blpLkKCgogICAgbGV0IG5ld01rZGlyID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoZmlsZURhdGEubWtkaXJOYW1lID09PSAiIikgewogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICBjb2RlOiAiNTAwIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7flhYjovpPlhaXmlofku7blkI0iCiAgICAgICAgfTsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IG5ldF9uZXdNa2Rpcih7CiAgICAgICAgICBmaWxlTmFtZTogZmlsZURhdGEubWtkaXJOYW1lLAogICAgICAgICAgbGV2ZWw6IHJvdXRlLnF1ZXJ5LnBhdGgKICAgICAgICB9KTsKICAgICAgICBhd2FpdCBlbnRlclBhY2soKTsKICAgICAgICBmaWxlRGF0YS5ta2Rpck5hbWUgPSAiIjsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7CiAgICAgICAgZmlsZURhdGEuYWRkTWtkaXIgPSBmYWxzZTsKICAgICAgfQogICAgfTsgLy/muIXpmaTmlofku7blkI7nvIDmoLflvI8KCgogICAgbGV0IGNsZWFyVHlwZSA9IGZpbGVOYW1lID0+IHsKICAgICAgbGV0IGluZGV4ID0gZmlsZU5hbWUubGFzdEluZGV4T2YoIi4iKTsKCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmlsZU5hbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmaWxlTmFtZS5zdWJzdHJpbmcoMCwgaW5kZXgpOwogICAgfTsKCiAgICB3YXRjaCgoKSA9PiBzdG9yZS5zdGF0ZS51cGxvYWRDYW5jZWwsIGFzeW5jIChuZXdEYXRhLCBvbGREYXRhKSA9PiB7CiAgICAgIGlmIChuZXdEYXRhKSB7CiAgICAgICAgYXdhaXQgbmV0X3VwbG9hZENhbmNlbChzdG9yZS5zdGF0ZS51cGxvYWRNZDUgKyBzdG9yZS5zdGF0ZS51cGxvYWRGaWxlTmFtZS5zdWJzdHJpbmcoc3RvcmUuc3RhdGUudXBsb2FkRmlsZU5hbWUubGFzdEluZGV4T2YoIi4iKSkpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQnKS52YWx1ZSA9ICIiOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVwbG9hZEluZGV4TWF4Iik7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkUGF0aCIpOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVwbG9hZEZpbGVOYW1lIik7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkTWQ1Iik7CiAgICAgICAgc3RvcmUuc3RhdGUudXBsb2FkSW5kZXhNYXggPSAxOwogICAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZFBhdGggPSAiIjsKICAgICAgICBzdG9yZS5zdGF0ZS51cGxvYWRGaWxlTmFtZSA9ICIiOwogICAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZE1kNSA9ICIiOwogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICBjb2RlOiAiMjAxIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmlofku7blj5bmtojkuIrkvKAhIgogICAgICAgIH07CiAgICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCByZXMpOwogICAgICB9CiAgICB9KTsgLy/osIPnlKjljp/nlJ/kuIrkvKDmjInpkq4KCiAgICBsZXQgY2xpY2tVcGxvYWQgPSAoKSA9PiB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQnKS5jbGljaygpOwogICAgfTsgLy/mlofku7bkuIrkvKDlvIDlp4ss5YiG5rWBCgoKICAgIGxldCB1cGxvYWRGaWxlID0gYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAvL+iOt+WPluaWh+S7tuW5tuWIm+W7uuS8oOmAkmRhdGHmlbDnu4QKICAgICAgc3RvcmUuc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICBsZXQgZmlsZURhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkJykuZmlsZXNbMF07CiAgICAgIGxldCByZXMgPSBhd2FpdCBuZXRfZmlsZUV4aXN0KHsKICAgICAgICBtZDU6IGZpbGUuaGFzaCwKICAgICAgICBwYXRoOiByb3V0ZS5xdWVyeS5wYXRoLAogICAgICAgIG5hbWU6IGZpbGVEYXRhLm5hbWUKICAgICAgfSk7CgogICAgICBpZiAocmVzLmNvZGUgIT09ICIyMDAiKSB7CiAgICAgICAgZmlsZS5zbGljZVRvdGFsID0gTWF0aC5jZWlsKGZpbGVEYXRhLnNpemUgLyAoMTAyNCAqIDEwMjQpKTsKICAgICAgICBmaWxlLnVwbG9hZEZpbGVOYW1lID0gZmlsZURhdGEubmFtZTsKICAgICAgICBmaWxlLnVwbG9hZEZpbGVSZWFsTmFtZSA9IGZpbGUuaGFzaCArIGZpbGVEYXRhLm5hbWUuc3Vic3RyaW5nKGZpbGVEYXRhLm5hbWUubGFzdEluZGV4T2YoIi4iKSk7CiAgICAgICAgYXdhaXQgZmlsZVNsaWNlKGZpbGVEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgY29kZTogIjIwMSIsCiAgICAgICAgICBtZXNzYWdlOiAi6L6+5Yiw56eS5Lyg5p2h5Lu2LOS4iuS8oOaIkOWKnyEiCiAgICAgICAgfTsKICAgICAgICBhd2FpdCBlbnRlclBhY2soKTsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7IC8v5riF56m65paH5Lu2CgogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQnKS52YWx1ZSA9ICIiOwogICAgICB9CiAgICB9OyAvL+aWh+S7tuino+aekOWujOWQjuW8gOWni+S4iuS8oAoKCiAgICBsZXQgZmlsZVBhcnNlID0gYXN5bmMgKCkgPT4gewogICAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTsgLy/ojrflj5bmlofku7blubbliJvlu7rkvKDpgJJkYXRh5pWw57uECgogICAgICBsZXQgZmlsZURhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkJykuZmlsZXNbMF07IC8v6I635Y+WYnVmZmVy5qih5byP5paH5Lu2LOW5tuWIm+W7um1kNeeggQoKICAgICAgbGV0IHNwYXJrTUQ1ID0gbmV3IFNwYXJrTUQ1LkFycmF5QnVmZmVyKCk7CiAgICAgIGxldCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlRGF0YSk7IC8v5bCG5paH5Lu26L2s5Li6YnVmZmVy5qih5byPCgogICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGFzeW5jIGUgPT4gewogICAgICAgIHNwYXJrTUQ1LmFwcGVuZChlLnRhcmdldC5yZXN1bHQpOwogICAgICAgIGZpbGUuaGFzaCA9IHNwYXJrTUQ1LmVuZChmYWxzZSk7CiAgICAgICAgYXdhaXQgdXBsb2FkRmlsZSgpOwogICAgICB9OwogICAgfTsgLy/mlofku7bmi4bliIYKCgogICAgbGV0IGZpbGVTbGljZSA9IGFzeW5jIGZpbGVEYXRhID0+IHsKICAgICAgbGV0IGN1ciA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGUuc2xpY2VUb3RhbDsgaSsrKSB7CiAgICAgICAgbGV0IGl0ZW0gPSB7CiAgICAgICAgICByYXc6IGZpbGVEYXRhLnNsaWNlKGN1ciAqIDEwMjQgKiAxMDI0LCAoY3VyICsgMSkgKiAxMDI0ICogMTAyNCksCiAgICAgICAgICBpbmRleDogaSwKICAgICAgICAgIG5hbWU6IGZpbGUudXBsb2FkRmlsZU5hbWUsCiAgICAgICAgICB0b3RhbDogZmlsZS5zbGljZVRvdGFsCiAgICAgICAgfTsKICAgICAgICBmaWxlLnVwbG9hZExpc3QucHVzaChpdGVtKTsKICAgICAgICBjdXIrKzsKICAgICAgfQoKICAgICAgaWYgKHN0b3JlLnN0YXRlLnVwbG9hZE1kNSkgewogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1cGxvYWRNZDUiKSA9PT0gZmlsZS5oYXNoKSB7CiAgICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgICBjb2RlOiAiMjAxIiwKICAgICAgICAgICAgbWVzc2FnZTogIuaWh+S7tuWujOaIkOmqjOivgSzmraPlnKjnu6fnu63kuIrkvKAhIgogICAgICAgICAgfTsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgcmVzKTsKICAgICAgICAgIGF3YWl0IHJlc3BvbnNlRmlsZXMocGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXBsb2FkSW5kZXgiKSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgICBjb2RlOiAiNTAwIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS4juWOn+aWh+S7tuS4jeespizmraPlnKjkuIrkvKDmlrDmlofku7YhIgogICAgICAgICAgfTsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgcmVzKTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVwbG9hZEluZGV4TWF4Iik7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ1cGxvYWRJbmRleCIpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkUGF0aCIpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkRmlsZU5hbWUiKTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVwbG9hZE1kNSIpOwogICAgICAgICAgc3RvcmUuc3RhdGUudXBsb2FkSW5kZXhNYXggPSAxOwogICAgICAgICAgc3RvcmUuc3RhdGUudXBsb2FkUGF0aCA9ICIiOwogICAgICAgICAgc3RvcmUuc3RhdGUudXBsb2FkRmlsZU5hbWUgPSAiIjsKICAgICAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZE1kNSA9ICIiOwogICAgICAgICAgYXdhaXQgcmVzcG9uc2VGaWxlcygpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgYXdhaXQgcmVzcG9uc2VGaWxlcygpOwogICAgICBmaWxlLnVwbG9hZExpc3QgPSBbXTsKICAgICAgZmlsZS5zbGljZVRvdGFsID0gMDsKICAgIH07IC8v5paH5Lu25YiG5q615LiK5LygCgoKICAgIGxldCByZXNwb25zZUZpbGVzID0gYXN5bmMgKGluZGV4ID0gMCkgPT4gewogICAgICBzdG9yZS5zdGF0ZS51cGxvYWRJbmRleE1heCA9IGZpbGUudXBsb2FkTGlzdC5sZW5ndGg7CiAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZFBhdGggPSByb3V0ZS5xdWVyeS5wYXRoOwogICAgICBzdG9yZS5zdGF0ZS51cGxvYWRGaWxlTmFtZSA9IGZpbGUudXBsb2FkRmlsZU5hbWU7CiAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZE1kNSA9IGZpbGUuaGFzaDsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXBsb2FkSW5kZXhNYXgiLCBmaWxlLnVwbG9hZExpc3QubGVuZ3RoICsgIiIpOwogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1cGxvYWRQYXRoIiwgcm91dGUucXVlcnkucGF0aCArICIiKTsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXBsb2FkRmlsZU5hbWUiLCBmaWxlLnVwbG9hZEZpbGVOYW1lKTsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXBsb2FkTWQ1IiwgZmlsZS5oYXNoKTsKICAgICAgYXdhaXQgdXBsb2FkRmlsZVVwbG9hZCgpOwoKICAgICAgaWYgKGZpbGUuZmlsZVVwbG9hZGVkID09PSAxKSB7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IG5ldF9maWxlQ29tYmluZWQoewogICAgICAgICAgbWQ1OiBmaWxlLmhhc2gsCiAgICAgICAgICByZWFsTmFtZTogZmlsZS51cGxvYWRGaWxlUmVhbE5hbWUsCiAgICAgICAgICBuYW1lOiBmaWxlLnVwbG9hZEZpbGVOYW1lLAogICAgICAgICAgcGF0aDogcm91dGUucXVlcnkucGF0aAogICAgICAgIH0pOwogICAgICAgIGF3YWl0IGVudGVyUGFjaygpOwogICAgICAgIHN0b3JlLmNvbW1pdCgidGlwIiwgcmVzKTsKICAgICAgICBmaWxlLmZpbGVVcGxvYWRlZCA9IDA7CiAgICAgIH0gLy/muIXnqbrmlofku7YKCgogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkJykudmFsdWUgPSAiIjsKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkSW5kZXgiKTsKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkSW5kZXhNYXgiKTsKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXBsb2FkUGF0aCIpOwogICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ1cGxvYWRGaWxlTmFtZSIpOwogICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ1cGxvYWRNZDUiKTsKICAgICAgc3RvcmUuc3RhdGUudXBsb2FkQ2FuY2VsID0gZmFsc2U7CiAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZEluZGV4TWF4ID0gMTsKICAgICAgc3RvcmUuc3RhdGUudXBsb2FkUGF0aCA9ICIiOwogICAgICBzdG9yZS5zdGF0ZS51cGxvYWRGaWxlTmFtZSA9ICIiOwogICAgICBzdG9yZS5zdGF0ZS51cGxvYWRNZDUgPSAiIjsKICAgIH07CgogICAgbGV0IHVwbG9hZEZpbGVVcGxvYWQgPSBhc3luYyAoaW5kZXggPSAtMSkgPT4gewogICAgICBpbmRleCArPSAxOwoKICAgICAgaWYgKGluZGV4ID09PSBzdG9yZS5zdGF0ZS51cGxvYWRJbmRleE1heCkgewogICAgICAgIGZpbGUuZmlsZVVwbG9hZGVkID0gMTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgICAgc3RvcmUuc3RhdGUudXBsb2FkSW5kZXggPSBpbmRleDsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXBsb2FkSW5kZXgiLCBpbmRleCArICIiKTsKICAgICAgbGV0IHVwbG9hZERhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdXBsb2FkRGF0YS5hcHBlbmQoImZpbGVOYW1lIiwgZmlsZS51cGxvYWRGaWxlUmVhbE5hbWUpOwogICAgICB1cGxvYWREYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGUudXBsb2FkTGlzdFtpbmRleF0ucmF3KTsKICAgICAgdXBsb2FkRGF0YS5hcHBlbmQoImluZGV4IiwgZmlsZS51cGxvYWRMaXN0W2luZGV4XS5pbmRleCk7CiAgICAgIHVwbG9hZERhdGEuYXBwZW5kKCJ0b3RhbCIsIGZpbGUuc2xpY2VUb3RhbCk7CiAgICAgIHVwbG9hZERhdGEuYXBwZW5kKCJtZDUiLCBmaWxlLmhhc2gpOwogICAgICB1cGxvYWREYXRhLmFwcGVuZCgicGF0aCIsIHJvdXRlLnF1ZXJ5LnBhdGggKyAiIik7CiAgICAgIHVwbG9hZERhdGEuYXBwZW5kKCJuYW1lIiwgZmlsZS51cGxvYWRGaWxlTmFtZSk7CiAgICAgIGxldCByZXMgPSBhd2FpdCBuZXRfdXBsb2FkU2xpY2VGaWxlKHVwbG9hZERhdGEpOwoKICAgICAgaWYgKHJlcy5jb2RlID09PSAiMjAwIikgewogICAgICAgIGlmIChzdG9yZS5zdGF0ZS51cGxvYWRDYW5jZWwpIHsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgYXdhaXQgdXBsb2FkRmlsZVVwbG9hZChwYXJzZUludChyZXMuZGF0YSkpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICBjb2RlOiAiNTAwIiwKICAgICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDkuK3mlq0hIgogICAgICAgIH07CiAgICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCByZXMpOwogICAgICAgIHN0b3JlLnN0YXRlLnVwbG9hZEludGVycnVwdCA9IHRydWU7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsgLi4udG9SZWZzKGZpbGVEYXRhKSwKICAgICAgLi4udG9SZWZzKGZpbGUpLAogICAgICBnZXRUeXBlLAogICAgICBlbnRlclBhY2ssCiAgICAgIGVudGVyRmlsZSwKICAgICAgYmFja0xldmVsLAogICAgICBkZWxldGVGaWxlLAogICAgICBvbmxpbmVGaWxlLAogICAgICBkb3duRmlsZSwKICAgICAgbmV3TWtkaXIsCiAgICAgIGNsZWFyVHlwZSwKICAgICAgZmlsZVBhcnNlLAogICAgICBmaWxlU2xpY2UsCiAgICAgIHJlc3BvbnNlRmlsZXMsCiAgICAgIGNsaWNrVXBsb2FkLAogICAgICB1cGxvYWRTaGFyZUZpbGUsCiAgICAgIHVwbG9hZEltYWdlcywKICAgICAgY2xpY2tVcGxvYWRJbWFnZQogICAgfTsKICB9LAoKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5lbnRlclBhY2soKTsKICAgIHRoaXMuY2F0ZWdvcnkgPSAoYXdhaXQgbmV0X2NhdGVnb3J5TGlzdCgpKS5kYXRhOwogIH0KCn07"},{"version":3,"mappings":"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","names":["Back","Delete","Plus","ZoomIn","showPack","removeFilePath","net_newMkdir","net_fileExist","net_uploadSliceFile","net_fileCombined","net_uploadCancel","net_categoryList","net_shareFile","net_uploadImage","useRoute","useRouter","reactive","toRefs","watch","useStore","RealBaseUrl","SparkMD5","name","components","setup","route","router","store","newValue","oldValue","path","enterPack","fileData","currentPack","currentFile","fileManage","fileManageInner","addMkdir","mkdirName","records","abortController","AbortController","file","sliceTotal","hash","uploadList","uploadFileName","uploadFileRealName","fileUploaded","category","shareFile","categoryId","fileId","url","uploadIcon","clickUploadImage","document","querySelector","click","uploadImages","formData","FormData","icon","files","size","res","code","message","commit","append","data","value","uploadShareFile","query","substring","split","enterFile","type","push","level","getType","require","e","backLevel","length","oldLevel","lastIndexOf","deleteFile","id","onlineFile","window","open","realName","downFile","md5","newMkdir","fileName","clearType","index","state","uploadCancel","newData","oldData","uploadMd5","sessionStorage","removeItem","uploadIndexMax","uploadPath","clickUpload","uploadFile","loading","Math","ceil","fileSlice","fileParse","sparkMD5","ArrayBuffer","fileReader","FileReader","readAsArrayBuffer","onload","target","result","end","cur","i","item","raw","slice","total","getItem","responseFiles","parseInt","setItem","uploadFileUpload","uploadIndex","uploadData","uploadInterrupt","created"],"sourceRoot":"","sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue"],"sourcesContent":["<template>\n  <div style=\"width:80%;margin:0 auto;\">\n    <div>\n      <el-button type=\"primary\" style=\"margin-top: 20px;height: 36px;\" @click=\"backLevel()\"\n                 :disabled=\"$route.query.path==='/'\">\n        <Back style=\"width: 1em; height: 1em; margin-right: 8px\"/>\n        返回\n      </el-button>\n    </div>\n    <div style=\"margin-top:20px\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{path:'/more',query:{path:'/'}}\">黑盘</el-breadcrumb-item>\n        <el-breadcrumb-item v-for=\"(item,index) in records\" :key=\"index\">{{ item }}</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <div\n        style=\"display: flex;width: 100%;height: auto;flex-wrap: wrap;box-shadow: 0 0 8px rgba(128,128,128,0.8);background-color:#fafafa;border-radius: 1.5em;margin-top:20px;padding:50px 0\">\n      <div class=\"file\" @click=\"enterFile({name:'temp',level:'/',type:'pack'})\" v-if=\"$route.query.path==='/'\">\n        <img :src=\"getType('pack')\" style=\"width:75%\" alt=\"类型图片\"/>\n        <span class=\"fileTitle\">temp</span>\n      </div>\n      <div v-for=\"(item,index) in currentPack\" :key=\"index\" style=\"\" class=\"file\"\n           :title=\"clearType(item.name)+'.'+item.type\"\n           @contextmenu.prevent=\"currentFile=item;fileManage=true;\" @click=\"enterFile(item)\">\n        <img :src=\"getType(item.type)\" style=\"width:75%\" alt=\"类型图片\"/>\n        <span class=\"fileTitle\">{{ clearType(item.name) }}</span>\n      </div>\n      <div v-if=\"currentPack===null||currentPack.length<=0&&$route.query.path!=='/'\"\n           style=\"text-align: center;width: 100%\">\n        <img src=\"@/assets/images/none.svg\" alt=\"啥也没有\"/>\n        <div style=\"font-weight: bold;font-size: 20px;color: #61b3ec\"><span style=\"color: black\">黑</span>盘里什么也没有</div>\n      </div>\n    </div>\n\n    <div style=\"display: flex;justify-content: right;margin:30px 0;width: 100%;\">\n      <input type=\"file\" style=\"display: none\" id=\"upload\" @change=\"fileParse()\">\n      <el-button type=\"primary\" plain style=\"font-weight: bold;height: 36px\" @click=\"clickUpload()\">上传文件</el-button>\n      <el-button type=\"success\" plain style=\"font-weight: bold;height: 36px\" @click=\"addMkdir=true;\">新建文件夹</el-button>\n    </div>\n    <!--    文件操作弹窗-->\n    <el-dialog\n        title=\"文件管理\"\n        v-model=\"fileManage\"\n        width=\"41%\"\n        center>\n      <div style=\"display:flex;width:80%;height: 200px;text-align: center;margin:10px auto 0 auto;\"\n           v-if=\"currentFile!=null||currentFile!=={}\">\n        <div>\n          <img :src=\"getType(currentFile.type)\" style=\"height:100%\" alt=\"样式\"/>\n        </div>\n        <div\n            style=\"text-align: left;display: flex;flex-flow: column;justify-content: space-between;height: 160px;margin-top:10px\">\n          <div class=\"fileStyle\"><strong>文件名:</strong>&nbsp;{{ clearType(currentFile.name) }}</div>\n          <div class=\"fileStyle\"><strong>类型:</strong>&nbsp;{{ currentFile.type }}</div>\n          <div class=\"fileStyle\">\n            <strong>路径<br></strong>黑盘{{ currentFile.level }}{{ clearType(currentFile.name) }}.{{ currentFile.type }}\n          </div>\n          <div class=\"fileStyle\">\n            <strong>大小<br></strong>{{\n              (currentFile.size / 1024).toFixed(3)\n            }}KB&nbsp,&nbsp约{{ (parseFloat(currentFile.size) / 1024 / 1024).toFixed(2) }}MB\n          </div>\n        </div>\n      </div>\n      <el-dialog\n          v-model=\"fileManageInner\"\n          width=\"30%\"\n          title=\"软件分享\"\n          append-to-body>\n        <el-form label-width=\"80px\">\n          <el-form-item label=\"软件名\" style=\"font-weight: bold\" required>\n            <el-input name='fileName' v-model=\"shareFile.name\" placeholder=\"请输入软件名\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"分类名\" style=\"font-weight: bold\" required>\n            <el-select v-model=\"shareFile.categoryId\">\n              <el-option\n                  v-for=\"item in category\"\n                  :key=\"item.id\"\n                  :label=\"item.category\"\n                  :value=\"item.id\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"软件官网\" style=\"font-weight: bold\">\n            <el-input name='url' v-model=\"shareFile.url\" placeholder=\"请输入官网网址\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"图标\" style=\"font-weight: bold\">\n            <el-button v-if=\"!uploadIcon\" type=\"primary\" @click=\"clickUploadImage()\" style=\"margin-right: 10px\">上传\n            </el-button>\n            <div v-if=\"!uploadIcon\">图标大小不能大于500kb</div>\n            <input type=\"file\" id=\"icon\" style=\"display: none\" @change=\"uploadImages()\"/>\n            <div>\n              <img class=\"el-upload-list__item-thumbnail\" :src=\"uploadIcon\" alt=\"\" v-if=\"uploadIcon\" style=\"width:80%\"/>\n            </div>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\" style=\"display: flex;justify-content: center;margin-top: 25px\">\n        <el-button type=\"info\" @click=\"fileManageInner = false\">取 消</el-button>\n        <el-button type=\"warning\" @click=\"fileManageInner=false;uploadShareFile()\">分享</el-button>\n       </span>\n      </el-dialog>\n      <span slot=\"footer\" class=\"dialog-footer\" style=\"display: flex;justify-content: center;margin-top: 25px\">\n        <el-button type=\"info\" @click=\"fileManage = false\">取 消</el-button>\n        <el-button type=\"danger\" @click=\"fileManage = false;deleteFile()\">删除</el-button>\n        <el-button type=\"success\" @click=\"fileManage = false;onlineFile()\"\n                   :disabled=\"!(currentFile.type==='txt'||currentFile.type==='jpg'||currentFile.type==='png'||currentFile.type==='xml')\"\n                   title=\"仅支持txt,jpg,png格式\">预览</el-button>\n        <el-button type=\"primary\" @click=\"fileManage = false;downFile(currentFile)\">下载</el-button>\n        <el-button type=\"warning\"\n                   @click=\"fileManageInner=true;shareFile.name=clearType(currentFile.name);shareFile.fileId=currentFile.file_id\">分享</el-button>\n       </span>\n    </el-dialog>\n    <!--    文件操作弹窗-->\n    <el-dialog title=\"新增文件夹\"\n               v-model=\"addMkdir\"\n               width=\"30%\"\n               center>\n      <el-form-item label=\"文件名\" style=\"font-weight: bold\">\n        <el-input name='fileName' v-model=\"mkdirName\" placeholder=\"请输入文件名\"></el-input>\n      </el-form-item>\n      <span slot=\"footer\" class=\"dialog-footer\" style=\"display: flex;justify-content: center;margin-top: 25px;\">\n        <el-button type=\"info\" @click=\"addMkdir = false\" style=\"width:60px;height: 36px;\">取 消</el-button>\n        <el-button type=\"success\" style=\"width:60px;height: 36px\" @click=\"newMkdir()\">新增</el-button>\n       </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {Back, Delete, Plus, ZoomIn} from \"@element-plus/icons\";\nimport {\n  showPack,\n  removeFilePath,\n  net_newMkdir,\n  net_fileExist,\n  net_uploadSliceFile,\n  net_fileCombined,\n  net_uploadCancel, net_categoryList, net_shareFile, net_uploadImage,\n} from \"@/net/file\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {reactive, toRefs, watch} from \"vue\";\nimport {useStore} from \"vuex\";\nimport {RealBaseUrl} from \"@/net/request\";\nimport SparkMD5 from \"spark-md5\";\n\nexport default {\n  name: \"more\",\n  components: {\n    Back,\n    Delete,\n    Plus,\n    ZoomIn\n  },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    watch(route, (newValue, oldValue) => {\n      if (newValue.path === \"/more\") {\n        enterPack();\n      }\n    })\n    //基础属性\n    let fileData = reactive({\n      currentPack: [],\n      currentFile: {},\n      fileManage: false,\n      fileManageInner: false,\n      addMkdir: false,\n      mkdirName: \"\",\n      records: [],\n      abortController: new AbortController()\n    })\n\n    let file = reactive({\n      sliceTotal: 0,\n      hash: \"\",\n      uploadList: [],\n      uploadFileName: \"\",\n      uploadFileRealName: \"\",\n      fileUploaded: 0,\n      category: [],\n      shareFile: {\n        name: \"\",\n        categoryId: \"1534448966809767937\",\n        fileId: 0,\n        url: \"\"\n      },\n      uploadIcon: \"\",\n    })\n    let clickUploadImage = () => {\n      document.querySelector(\"#icon\").click();\n    }\n    //上传图片接口\n    let uploadImages = async () => {\n      let formData = new FormData();\n      let icon = document.querySelector(\"#icon\").files[0];\n      if (icon.size > 1024 * 1024) {\n        let res = {\n          code: \"500\",\n          message: \"图标大于500kb,请重新上传\"\n        }\n        store.commit(\"tip\", res);\n      } else {\n        formData.append(\"file\", icon);\n        formData.append(\"category\", \"icon\");\n        let res = (await net_uploadImage(formData));\n        file.uploadIcon = res.data.path;\n      }\n      document.querySelector(\"#icon\").value = \"\";\n    }\n\n    //文件分享\n    let uploadShareFile = async () => {\n      let res = await net_shareFile(file.shareFile);\n      if (res.code === \"200\") {\n        let res = {\n          code: \"201\",\n          message: \"分享成功,等待管理员审核!\"\n        }\n        store.commit(\"tip\", res);\n      } else {\n        store.commit(\"tip\", res);\n      }\n    }\n\n    //进入对应文件夹\n    let enterPack = async () => {\n      fileData.currentPack = (await showPack({\n        \"level\": route.query.path\n      })).data;\n      fileData.records = route.query.path.substring(1).split(\"/\");\n    }\n    //进入文件时\n    let enterFile = (file) => {\n      if (file.type === \"pack\") {\n        router.push({path: \"/more\", query: {path: file.level + file.name + \"/\"}})\n        enterPack();\n      } else {\n        fileData.currentFile = file;\n        fileData.fileManage = true;\n      }\n    }\n\n    //获取文件样式并展示对应样式图片\n    let getType = (type) => {\n      try {\n        return require(\"@/assets/images/fileType/\" + type + \".svg\");\n      } catch (e) {\n        return require(\"@/assets/images/fileType/null.svg\");\n      }\n    }\n\n    //返回上一级\n    let backLevel = () => {\n      let level = route.query.path.substring(0, route.query.path.length - 1);\n      let oldLevel = level.substring(0, level.lastIndexOf(\"/\") + 1)\n      if (oldLevel.length <= 0) {\n        oldLevel = \"/\";\n      }\n      router.push({path: \"/more\", query: {path: oldLevel}});\n      enterPack();\n    }\n\n    //删除文件路径\n    let deleteFile = async () => {\n      let res = await removeFilePath(fileData.currentFile.id);\n      store.commit(\"tip\", res);\n      await enterPack();\n    }\n\n    //在线浏览文件\n    let onlineFile = () => {\n      window.open(RealBaseUrl + \"/upload/temp/\" + fileData.currentFile.realName, '_blank');\n    }\n\n    //下载文件\n    let downFile = () => {\n      window.open(RealBaseUrl + \"/v1/down?md5=\" + fileData.currentFile.md5, '_blank');\n    }\n\n    //新增文件夹\n    let newMkdir = async () => {\n      if (fileData.mkdirName === \"\") {\n        let res = {\n          code: \"500\",\n          message: \"请先输入文件名\"\n        }\n        store.commit(\"tip\", res);\n      } else {\n        let res = await net_newMkdir({\n          fileName: fileData.mkdirName,\n          level: route.query.path\n        })\n        await enterPack();\n        fileData.mkdirName = \"\";\n        store.commit(\"tip\", res);\n        fileData.addMkdir = false;\n      }\n    }\n\n    //清除文件后缀样式\n    let clearType = (fileName) => {\n      let index = fileName.lastIndexOf(\".\");\n      if (index === -1) {\n        return fileName;\n      }\n      return fileName.substring(0, index);\n    }\n\n    watch(() => store.state.uploadCancel, async (newData, oldData) => {\n      if (newData) {\n        await net_uploadCancel(store.state.uploadMd5 + store.state.uploadFileName.substring(store.state.uploadFileName.lastIndexOf(\".\")))\n        document.querySelector('#upload').value = \"\";\n        sessionStorage.removeItem(\"uploadIndexMax\")\n        sessionStorage.removeItem(\"uploadPath\");\n        sessionStorage.removeItem(\"uploadFileName\");\n        sessionStorage.removeItem(\"uploadMd5\");\n        store.state.uploadIndexMax = 1;\n        store.state.uploadPath = \"\";\n        store.state.uploadFileName = \"\";\n        store.state.uploadMd5 = \"\";\n        let res = {\n          code: \"201\",\n          message: \"文件取消上传!\"\n        }\n        store.commit(\"tip\", res);\n      }\n    })\n\n    //调用原生上传按钮\n    let clickUpload = () => {\n      document.querySelector('#upload').click();\n    }\n    //文件上传开始,分流\n    let uploadFile = async function () {\n      //获取文件并创建传递data数组\n      store.state.loading = false;\n      let fileData = document.querySelector('#upload').files[0];\n      let res = (await net_fileExist({md5: file.hash, path: route.query.path, name: fileData.name}));\n      if (res.code !== \"200\") {\n        file.sliceTotal = Math.ceil(fileData.size / (1024 * 1024));\n        file.uploadFileName = fileData.name;\n        file.uploadFileRealName = file.hash + fileData.name.substring(fileData.name.lastIndexOf(\".\"));\n        await fileSlice(fileData);\n      } else {\n        let res = {\n          code: \"201\",\n          message: \"达到秒传条件,上传成功!\"\n        }\n        await enterPack();\n        store.commit(\"tip\", res);\n        //清空文件\n        document.querySelector('#upload').value = \"\";\n      }\n    }\n    //文件解析完后开始上传\n    let fileParse = async () => {\n      store.state.loading = true;\n      //获取文件并创建传递data数组\n      let fileData = document.querySelector('#upload').files[0];\n      //获取buffer模式文件,并创建md5码\n      let sparkMD5 = new SparkMD5.ArrayBuffer();\n      let fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(fileData);//将文件转为buffer模式\n      fileReader.onload = async (e) => {\n        sparkMD5.append(e.target.result);\n        file.hash = sparkMD5.end(false);\n        await uploadFile();\n      }\n    }\n\n    //文件拆分\n    let fileSlice = async (fileData) => {\n      let cur = 0;\n      for (let i = 0; i < file.sliceTotal; i++) {\n        let item = {\n          raw: fileData.slice(cur * 1024 * 1024, (cur + 1) * 1024 * 1024),\n          index: i,\n          name: file.uploadFileName,\n          total: file.sliceTotal\n        }\n        file.uploadList.push(item);\n        cur++;\n      }\n      if (store.state.uploadMd5) {\n        if (sessionStorage.getItem(\"uploadMd5\") === file.hash) {\n          let res = {\n            code: \"201\",\n            message: \"文件完成验证,正在继续上传!\"\n          }\n          store.commit(\"tip\", res);\n          await responseFiles(parseInt(sessionStorage.getItem(\"uploadIndex\")));\n        } else {\n          let res = {\n            code: \"500\",\n            message: \"与原文件不符,正在上传新文件!\"\n          }\n          store.commit(\"tip\", res);\n          sessionStorage.removeItem(\"uploadIndexMax\")\n          sessionStorage.removeItem(\"uploadIndex\")\n          sessionStorage.removeItem(\"uploadPath\");\n          sessionStorage.removeItem(\"uploadFileName\");\n          sessionStorage.removeItem(\"uploadMd5\");\n          store.state.uploadIndexMax = 1;\n          store.state.uploadPath = \"\";\n          store.state.uploadFileName = \"\";\n          store.state.uploadMd5 = \"\";\n          await responseFiles();\n        }\n      }\n      await responseFiles();\n      file.uploadList = [];\n      file.sliceTotal = 0;\n    }\n\n    //文件分段上传\n    let responseFiles = async (index = 0) => {\n      store.state.uploadIndexMax = file.uploadList.length;\n      store.state.uploadPath = route.query.path;\n      store.state.uploadFileName = file.uploadFileName;\n      store.state.uploadMd5 = file.hash;\n      sessionStorage.setItem(\"uploadIndexMax\", file.uploadList.length + \"\");\n      sessionStorage.setItem(\"uploadPath\", route.query.path + \"\");\n      sessionStorage.setItem(\"uploadFileName\", file.uploadFileName);\n      sessionStorage.setItem(\"uploadMd5\", file.hash);\n      await uploadFileUpload();\n      if (file.fileUploaded === 1) {\n        let res = await net_fileCombined({\n          md5: file.hash,\n          realName: file.uploadFileRealName,\n          name: file.uploadFileName,\n          path: route.query.path\n        });\n        await enterPack();\n        store.commit(\"tip\", res);\n        file.fileUploaded = 0;\n      }\n      //清空文件\n      document.querySelector('#upload').value = \"\";\n      sessionStorage.removeItem(\"uploadIndex\")\n      sessionStorage.removeItem(\"uploadIndexMax\")\n      sessionStorage.removeItem(\"uploadPath\");\n      sessionStorage.removeItem(\"uploadFileName\");\n      sessionStorage.removeItem(\"uploadMd5\");\n      store.state.uploadCancel = false;\n      store.state.uploadIndexMax = 1;\n      store.state.uploadPath = \"\";\n      store.state.uploadFileName = \"\";\n      store.state.uploadMd5 = \"\";\n    }\n\n    let uploadFileUpload = async (index = -1) => {\n      index += 1;\n      if (index === store.state.uploadIndexMax) {\n        file.fileUploaded = 1;\n        return 0;\n      }\n      store.state.uploadIndex = index;\n      sessionStorage.setItem(\"uploadIndex\", index + \"\");\n      let uploadData = new FormData();\n      uploadData.append(\"fileName\", file.uploadFileRealName);\n      uploadData.append(\"file\", file.uploadList[index].raw);\n      uploadData.append(\"index\", file.uploadList[index].index);\n      uploadData.append(\"total\", file.sliceTotal);\n      uploadData.append(\"md5\", file.hash);\n      uploadData.append(\"path\", route.query.path + \"\");\n      uploadData.append(\"name\", file.uploadFileName);\n      let res = await net_uploadSliceFile(uploadData);\n      if (res.code === \"200\") {\n        if (store.state.uploadCancel) {\n          return 0;\n        }\n        await uploadFileUpload(parseInt(res.data))\n      } else {\n        let res = {\n          code: \"500\",\n          message: \"上传中断!\"\n        }\n        store.commit(\"tip\", res);\n        store.state.uploadInterrupt = true;\n      }\n    }\n\n    return {\n      ...toRefs(fileData),\n      ...toRefs(file),\n      getType,\n      enterPack,\n      enterFile,\n      backLevel,\n      deleteFile,\n      onlineFile,\n      downFile,\n      newMkdir,\n      clearType,\n      fileParse,\n      fileSlice,\n      responseFiles,\n      clickUpload,\n      uploadShareFile,\n      uploadImages,\n      clickUploadImage\n    }\n  },\n  async created() {\n    this.enterPack();\n    this.category = (await net_categoryList()).data;\n  },\n}\n</script>\n\n<style scoped>\n.file:hover {\n  box-shadow: 0 0 10px grey;\n}\n\n.file {\n  width: 10%;\n  height: auto;\n  text-align: center;\n  margin: 30px;\n  padding: 15px 20px;\n  border-radius: 1em;\n  cursor: pointer;\n  transition: all 600ms\n}\n\n.fileTitle {\n  font-size: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n  display: inline-block;\n  margin-top: 8px\n}\n\n.fileStyle {\n  font-size: 16px;\n  margin-top: 13px;\n}\n</style>\n"]}]}