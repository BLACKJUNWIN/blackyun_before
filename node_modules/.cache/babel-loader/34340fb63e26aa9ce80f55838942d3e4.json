{"remainingRequest":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue","mtime":1660024301781},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\babel.config.js","mtime":1659339967320},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\babel-loader\\lib\\index.js","mtime":1659339950602},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659339948891},{"path":"D:\\BlackJun\\2021\\program\\webstrom\\yun\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1659339949079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQmFjayB9IGZyb20gIkBlbGVtZW50LXBsdXMvaWNvbnMiOwppbXBvcnQgeyBzaG93UGFjaywgcmVtb3ZlRmlsZVBhdGgsIG5ldF9uZXdNa2RpciB9IGZyb20gIkAvbmV0L2ZpbGUiOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgUmVhbEJhc2VVcmwgfSBmcm9tICJAL25ldC9yZXF1ZXN0IjsKaW1wb3J0IHN0b3JlIGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm1vcmUiLAogIGNvbXBvbmVudHM6IHsKICAgIEJhY2sKICB9LAoKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgd2F0Y2gocm91dGUsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHsKICAgICAgZW50ZXJQYWNrKCk7CiAgICB9KTsgLy/ln7rnoYDlsZ7mgKcKCiAgICBsZXQgZmlsZURhdGEgPSByZWFjdGl2ZSh7CiAgICAgIGN1cnJlbnRQYWNrOiBbXSwKICAgICAgY3VycmVudEZpbGU6IHt9LAogICAgICBmaWxlTWFuYWdlOiBmYWxzZSwKICAgICAgYWRkTWtkaXI6IGZhbHNlLAogICAgICBta2Rpck5hbWU6ICIiLAogICAgICByZWNvcmRzOiBbXQogICAgfSk7IC8v6L+b5YWl5a+55bqU5paH5Lu25aS5CgogICAgbGV0IGVudGVyUGFjayA9IGFzeW5jICgpID0+IHsKICAgICAgZmlsZURhdGEuY3VycmVudFBhY2sgPSAoYXdhaXQgc2hvd1BhY2soewogICAgICAgICJsZXZlbCI6IHJvdXRlLnF1ZXJ5LnBhdGgKICAgICAgfSkpLmRhdGE7CiAgICAgIGZpbGVEYXRhLnJlY29yZHMgPSByb3V0ZS5xdWVyeS5wYXRoLnN1YnN0cmluZygxKS5zcGxpdCgiLyIpOwogICAgfTsgLy/ov5vlhaXmlofku7bml7YKCgogICAgbGV0IGVudGVyRmlsZSA9IGZpbGUgPT4gewogICAgICBpZiAoZmlsZS50eXBlID09PSAicGFjayIpIHsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL21vcmUiLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgcGF0aDogZmlsZS5sZXZlbCArIGZpbGUuZmlsZU5hbWUgKyAiLyIKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBlbnRlclBhY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWxlRGF0YS5jdXJyZW50RmlsZSA9IGZpbGU7CiAgICAgICAgZmlsZURhdGEuZmlsZU1hbmFnZSA9IHRydWU7CiAgICAgIH0KICAgIH07IC8v6I635Y+W5paH5Lu25qC35byP5bm25bGV56S65a+55bqU5qC35byP5Zu+54mHCgoKICAgIGxldCBnZXRUeXBlID0gdHlwZSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIkAvYXNzZXRzL2ltYWdlcy9maWxlVHlwZS8iICsgdHlwZSArICIuc3ZnIik7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZSgiQC9hc3NldHMvaW1hZ2VzL2ZpbGVUeXBlL251bGwuc3ZnIik7CiAgICAgIH0KICAgIH07IC8v6L+U5Zue5LiK5LiA57qnCgoKICAgIGxldCBiYWNrTGV2ZWwgPSAoKSA9PiB7CiAgICAgIGxldCBsZXZlbCA9IHJvdXRlLnF1ZXJ5LnBhdGguc3Vic3RyaW5nKDAsIHJvdXRlLnF1ZXJ5LnBhdGgubGVuZ3RoIC0gMSk7CiAgICAgIGxldCBvbGRMZXZlbCA9IGxldmVsLnN1YnN0cmluZygwLCBsZXZlbC5sYXN0SW5kZXhPZigiLyIpICsgMSk7CgogICAgICBpZiAob2xkTGV2ZWwubGVuZ3RoIDw9IDApIHsKICAgICAgICBvbGRMZXZlbCA9ICIvIjsKICAgICAgfQoKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvbW9yZSIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHBhdGg6IG9sZExldmVsCiAgICAgICAgfQogICAgICB9KTsKICAgICAgZW50ZXJQYWNrKCk7CiAgICB9OyAvL+WIoOmZpOaWh+S7tui3r+W+hAoKCiAgICBsZXQgZGVsZXRlRmlsZSA9IGFzeW5jICgpID0+IHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHJlbW92ZUZpbGVQYXRoKGZpbGVEYXRhLmN1cnJlbnRGaWxlLmlkKTsKICAgICAgc3RvcmUuY29tbWl0KCJ0aXAiLCByZXMpOwogICAgICBhd2FpdCBlbnRlclBhY2soKTsKICAgIH07IC8v5Zyo57q/5rWP6KeI5paH5Lu2CgoKICAgIGxldCBvbmxpbmVGaWxlID0gKCkgPT4gewogICAgICB3aW5kb3cub3BlbihSZWFsQmFzZVVybCArICIvdXBsb2FkLyIgKyBmaWxlRGF0YS5jdXJyZW50RmlsZS5yZWFsTmFtZSwgJ19ibGFuaycpOwogICAgfTsgLy/kuIvovb3mlofku7YKCgogICAgbGV0IGRvd25GaWxlID0gKCkgPT4gewogICAgICB3aW5kb3cub3BlbihSZWFsQmFzZVVybCArICIvdjEvZG93bj9tZDU9IiArIGZpbGVEYXRhLmN1cnJlbnRGaWxlLm1kNSwgJ19ibGFuaycpOwogICAgfTsgLy/mlrDlop7mlofku7blpLkKCgogICAgbGV0IG5ld01rZGlyID0gYXN5bmMgKCkgPT4gewogICAgICBpZiAoZmlsZURhdGEubWtkaXJOYW1lID09PSAiIikgewogICAgICAgIGxldCByZXMgPSB7CiAgICAgICAgICBjb2RlOiAiNTAwIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7flhYjovpPlhaXmlofku7blkI0iCiAgICAgICAgfTsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IG5ldF9uZXdNa2Rpcih7CiAgICAgICAgICBmaWxlTmFtZTogZmlsZURhdGEubWtkaXJOYW1lLAogICAgICAgICAgbGV2ZWw6IHJvdXRlLnF1ZXJ5LnBhdGgKICAgICAgICB9KTsKICAgICAgICBhd2FpdCBlbnRlclBhY2soKTsKICAgICAgICBmaWxlRGF0YS5ta2Rpck5hbWUgPSAiIjsKICAgICAgICBzdG9yZS5jb21taXQoInRpcCIsIHJlcyk7CiAgICAgICAgZmlsZURhdGEuYWRkTWtkaXIgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4geyAuLi50b1JlZnMoZmlsZURhdGEpLAogICAgICBnZXRUeXBlLAogICAgICBlbnRlclBhY2ssCiAgICAgIGVudGVyRmlsZSwKICAgICAgYmFja0xldmVsLAogICAgICBkZWxldGVGaWxlLAogICAgICBvbmxpbmVGaWxlLAogICAgICBkb3duRmlsZSwKICAgICAgbmV3TWtkaXIKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZW50ZXJQYWNrKCk7CiAgfQoKfTs="},{"version":3,"mappings":"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","names":["Back","showPack","removeFilePath","net_newMkdir","useRoute","useRouter","reactive","toRefs","watch","useStore","RealBaseUrl","store","name","components","setup","route","router","newValue","oldValue","enterPack","fileData","currentPack","currentFile","fileManage","addMkdir","mkdirName","records","query","path","data","substring","split","enterFile","file","type","push","level","fileName","getType","require","e","backLevel","length","oldLevel","lastIndexOf","deleteFile","res","id","commit","onlineFile","window","open","realName","downFile","md5","newMkdir","code","message","created"],"sourceRoot":"","sources":["D:\\BlackJun\\2021\\program\\webstrom\\yun\\src\\views\\more.vue"],"sourcesContent":["<template>\n  <div style=\"width:80%;margin:0 auto;\">\n    <div>\n      <el-button type=\"primary\" style=\"margin-top: 20px;height: 36px;\" @click=\"backLevel()\" :disabled=\"$route.query.path==='/'\"><Back style=\"width: 1em; height: 1em; margin-right: 8px\"/>返回</el-button>\n    </div>\n    <div style=\"margin-top:20px\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{path:'/more',query:{path:'/'}}\">黑盘</el-breadcrumb-item>\n        <el-breadcrumb-item v-for=\"(item,index) in records\" :key=\"index\">{{item}}</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <div style=\"display: flex;width: 100%;height: auto;flex-wrap: wrap;box-shadow: 0 0 8px rgba(128,128,128,0.8);background-color:#fafafa;border-radius: 1.5em;margin-top:20px;padding:50px 0\">\n      <div v-for=\"(item,index) in currentPack\" :key=\"index\"  style=\"width:10%;height: auto;text-align: center;margin:30px;padding:15px 20px;border-radius:1em;cursor: pointer;transition: all 600ms\" class=\"file\" :title=\"item.fileName+'.'+item.type\" @contextmenu.prevent=\"currentFile=item;fileManage=true;\" @click=\"enterFile(item)\">\n        <img :src=\"getType(item.type)\" style=\"width:75%\"/>\n        <span style=\"font-size:16px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width:100%;display: inline-block;margin-top:8px\">{{item.fileName}}</span>\n      </div>\n      <div v-if=\"currentPack===null||currentPack.length<=0\" style=\"text-align: center;width: 100%\">\n        <img src=\"@/assets/images/none.svg\"/>\n        <div style=\"font-weight: bold;font-size: 20px;color: #61b3ec\"><span style=\"color: black\">黑</span>盘里什么也没有</div>\n      </div>\n    </div>\n\n    <div style=\"display: flex;justify-content: right;margin:30px 0;width: 100%;\">\n      <el-button type=\"success\" plain style=\"font-weight: bold;height: 36px\" @click=\"addMkdir=true;\">新建文件夹</el-button>\n    </div>\n    <!--    文件操作弹窗-->\n    <el-dialog\n      title=\"文件管理\"\n      v-model=\"fileManage\"\n      width=\"41%\"\n      center>\n      <div style=\"display:flex;width:80%;height: 200px;text-align: center;margin:10px auto 0 auto;\" v-if=\"currentFile!=null||currentFile!=={}\">\n        <div>\n          <img :src=\"getType(currentFile.type)\" style=\"height:100%\" alt=\"样式\"/>\n        </div>\n        <div style=\"text-align: left;display: flex;flex-flow: column;justify-content: space-between;height: 160px;margin-top:10px\">\n          <div class=\"fileStyle\"><strong>文件名:</strong>&nbsp;{{currentFile.fileName}}</div>\n          <div class=\"fileStyle\"><strong>类型:</strong>&nbsp;{{currentFile.type}}</div>\n          <div class=\"fileStyle\"><strong>路径<br></strong>黑盘{{currentFile.level}}{{currentFile.fileName}}.{{currentFile.type}}</div>\n          <div class=\"fileStyle\"><strong>大小<br></strong>{{(currentFile.size/1024).toFixed(3)}}KB&nbsp,&nbsp约{{(parseFloat(currentFile.size)/1024/1024).toFixed(2)}}MB</div>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\" style=\"display: flex;justify-content: center;margin-top: 25px\">\n        <el-button type=\"info\" @click=\"fileManage = false\">取 消</el-button>\n        <el-button type=\"danger\" @click=\"fileManage = false;deleteFile()\">删除</el-button>\n        <el-button type=\"success\" @click=\"fileManage = false;onlineFile()\" :disabled=\"!(currentFile.type==='txt'||currentFile.type==='jpg'||currentFile.type==='png'||currentFile.type==='xml')\" title=\"仅支持txt,jpg,png格式\">预览</el-button>\n        <el-button type=\"primary\"  @click=\"fileManage = false;downFile(currentFile)\">下载</el-button>\n       </span>\n    </el-dialog>\n    <!--    文件操作弹窗-->\n    <el-dialog title=\"新增文件夹\"\n               v-model=\"addMkdir\"\n               width=\"30%\"\n               center>\n      <el-form-item label=\"文件名\" style=\"font-weight: bold\">\n        <el-input name='fileName' v-model=\"mkdirName\" placeholder=\"请输入文件名\"></el-input>\n      </el-form-item>\n      <span slot=\"footer\" class=\"dialog-footer\" style=\"display: flex;justify-content: center;margin-top: 25px;\">\n        <el-button type=\"info\" @click=\"addMkdir = false\" style=\"width:60px;height: 36px;\">取 消</el-button>\n        <el-button type=\"success\" style=\"width:60px;height: 36px\" @click=\"newMkdir()\">新增</el-button>\n       </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {Back} from \"@element-plus/icons\";\nimport {showPack,removeFilePath,net_newMkdir} from \"@/net/file\";\nimport {useRoute,useRouter} from \"vue-router\";\nimport {reactive, toRefs,watch} from \"vue\";\nimport {useStore} from \"vuex\";\nimport {RealBaseUrl} from \"@/net/request\";\nimport store from \"vuex\";\nexport default {\n  name: \"more\",\n  components:{\n    Back\n  },\n  setup(){\n    const route=useRoute();\n    const router=useRouter();\n    const store=useStore();\n    watch(route,(newValue,oldValue)=>{\n      enterPack();\n    })\n\n    //基础属性\n    let fileData=reactive({\n      currentPack:[],\n      currentFile:{},\n      fileManage:false,\n      addMkdir:false,\n      mkdirName:\"\",\n      records:[],\n    })\n\n    //进入对应文件夹\n    let enterPack=async ()=>{\n      fileData.currentPack=(await showPack({\n        \"level\": route.query.path\n      })).data;\n      fileData.records=route.query.path.substring(1).split(\"/\");\n    }\n    //进入文件时\n    let enterFile=(file)=>{\n      if(file.type===\"pack\"){\n        router.push({path:\"/more\",query:{path:file.level+file.fileName+\"/\"}})\n        enterPack();\n      }else{\n        fileData.currentFile=file;\n        fileData.fileManage=true;\n      }\n    }\n\n    //获取文件样式并展示对应样式图片\n    let getType=(type)=>{\n      try {\n        return require(\"@/assets/images/fileType/\" + type + \".svg\");\n      } catch (e) {\n        return require(\"@/assets/images/fileType/null.svg\");\n      }\n    }\n\n    //返回上一级\n    let backLevel=()=>{\n      let level = route.query.path.substring(0,route.query.path.length-1);\n      let oldLevel=level.substring(0,level.lastIndexOf(\"/\")+1)\n      if(oldLevel.length<=0){\n        oldLevel=\"/\";\n      }\n      router.push({path:\"/more\",query:{path:oldLevel}});\n      enterPack();\n    }\n\n    //删除文件路径\n    let deleteFile=async ()=>{\n      let res=await removeFilePath(fileData.currentFile.id);\n      store.commit(\"tip\",res);\n      await enterPack();\n    }\n\n    //在线浏览文件\n    let onlineFile=()=>{\n      window.open(RealBaseUrl+\"/upload/\"+fileData.currentFile.realName,'_blank');\n    }\n\n    //下载文件\n    let downFile=()=>{\n      window.open(RealBaseUrl+\"/v1/down?md5=\"+fileData.currentFile.md5, '_blank');\n    }\n\n    //新增文件夹\n    let newMkdir=async ()=>{\n      if(fileData.mkdirName===\"\"){\n        let res={\n          code:\"500\",\n          message:\"请先输入文件名\"\n        }\n        store.commit(\"tip\",res);\n      }else{\n        let res=await net_newMkdir({\n          fileName:fileData.mkdirName,\n          level:route.query.path\n        })\n        await enterPack();\n        fileData.mkdirName=\"\";\n        store.commit(\"tip\",res);\n        fileData.addMkdir=false;\n      }\n    }\n\n    return {\n      ...toRefs(fileData),\n      getType,\n      enterPack,\n      enterFile,\n      backLevel,\n      deleteFile,\n      onlineFile,\n      downFile,\n      newMkdir\n    }\n  },\n  created(){\n    this.enterPack();\n  },\n}\n</script>\n\n<style scoped>\n.file:hover{\n  box-shadow: 0 0 10px grey;\n}\n.fileStyle{\n  font-size: 16px;\n  margin-top: 13px;\n}\n</style>\n"]}]}